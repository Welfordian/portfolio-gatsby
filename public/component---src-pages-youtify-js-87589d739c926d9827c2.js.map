{"version":3,"file":"component---src-pages-youtify-js-87589d739c926d9827c2.js","mappings":"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","sources":["webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://gatsby-starter-default/./src/components/Youtify/playlist.js","webpack://gatsby-starter-default/./src/components/Youtify/SavePlaylist.js","webpack://gatsby-starter-default/./src/components/Youtify/player.js","webpack://gatsby-starter-default/./src/components/Youtify/search.js","webpack://gatsby-starter-default/./src/components/Youtify/app.js","webpack://gatsby-starter-default/./src/pages/youtify.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/typeof.js"],"sourcesContent":["function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import React from 'react';\nimport { Levels } from \"react-activity\";\nimport \"react-activity/dist/Levels.css\";\nimport moment from \"moment\";\n\n// Spinner until video plays -- then bars\n\nclass Playlist extends React.Component {\n    render() {\n        return (\n            <div className={`md:h-screen overflow-auto col-span-4 md:col-span-2 lg:col-span-1 dark:text-gray-300`}>\n                <div className={`flex-grow h-full overflow-auto flex flex-col gap-2`}>\n                    {\n                        this.props.playlist.map((track, index) => {\n                            return (\n                                <div className={`flex gap-2 border-b border-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600 cursor-pointer`} onClick={() => this.props.onChange(index)}>\n                                    <div>\n                                        <div className={`relative`} style={{width: '164px'}}>\n                                            {\n                                                this.props.currentVideoIndex === index \n                                                    ? \n                                                        <div className={`absolute inset-0 flex justify-center items-center text-white bg-black/60`}>\n                                                            <Levels size={40} speed={0.5}/>\n                                                        </div>\n                                                    : \"\"\n                                            }\n                                            \n                                            <img className={`w-full`} src={track.snippet.thumbnails.high.url} />\n\n                                            <p className={`absolute bottom-0 right-0 px-1 text-sm mr-1 mb-1 text-white bg-black/70`} dangerouslySetInnerHTML={{ __html: track.duration_raw }}></p>\n                                        </div>\n                                    </div>\n                                    <div>\n                                        <div>\n                                            <div className={`flex flex-col`}>\n                                                <p dangerouslySetInnerHTML={{ __html: track.title }}></p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            )\n                        })\n                    }\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Playlist","import React from 'react';\nimport axios from 'axios';\n\nconst isBrowser = typeof window !== \"undefined\"\n\nclass SavePlaylist extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            isPlaylist: this.props.isPlaylist\n        }\n    }\n\n    savePlaylist() {\n        axios.post('https://portfolio-api-new.test/v1/playlists', {\n            videos: this.props.videos,\n            tracks: this.props.tracks\n        }).then(r => {\n            if (isBrowser) {\n                window.history.pushState({}, \"\", `https://welford.me/youtify/${r.data.slug}`)\n            }\n\n            this.setState({\n                isPlaylist: true\n            })\n        })\n    }\n\n    render() {\n        if (! this.state.isPlaylist) {\n            return (\n                <div>\n                    <button className={`text-black dark:text-gray-300`} onClick={this.savePlaylist.bind(this)}>Save Playlist</button>\n                </div>\n            )\n        }\n\n        return null;\n    }\n}\n\nexport default SavePlaylist;","import React from 'react';\nimport axios from 'axios';\nimport YouTube from 'react-youtube';\nimport Playlist from \"./playlist\";\nimport SavePlaylist from \"./SavePlaylist\";\nimport {isBrowser} from \"../../services/auth\";\n\nclass Player extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            processedIndex: 0,\n            tracks: this.props.tracks,\n            videos: this.props.videos,\n            currentVideoIndex: 0,\n            youtubeKey: 'AIzaSyBMDzO5UCJyXyo1FD1a4ShFeTY0M0UFnbA'\n        }\n    }\n\n    componentDidMount() {\n        if (this.props.slug.length) {\n            this.determineSavedPlaylist()\n        } else {\n            axios.get(`https://api.spotify.com/v1/playlists/${this.props.playlist}`, {\n                headers: {\n                    Authorization: 'Bearer ' + this.props.token\n                }\n            }).then(response => {\n                this.setState({\n                    tracks: response.data.tracks.items\n                });\n\n                this.startProcessing();\n            });\n        }\n    }\n\n    determineSavedPlaylist() {\n        if (this.props.slug.length > 0) {\n            axios.get(`https://portfolio-api-new.test/v1/playlists/${this.props.slug}`).then(r => {\n                this.setState({\n                    tracks: r.data.tracks,\n                    videos: r.data.videos,\n                });\n            })\n        }\n    }\n\n    startProcessing() {\n        let track = this.state.tracks[this.state.processedIndex];\n        \n        if (track === undefined || ! ('track' in track)) return;\n\n        axios.get(`https://youtube-search.welford.me/?artist=${track.track.artists[0].name}&track=${track.track.name}&key=Ol$c4wtIy-FV2h6$OjxXUL6-$f6wycH`).then(response => {\n            this.setState({ videos: [...this.state.videos, response.data[0]] });\n\n            if (this.state.processedIndex < this.state.tracks.length) {\n                this.setState({\n                    processedIndex: this.state.processedIndex + 1\n                });\n\n                this.startProcessing();\n            }\n        });\n    }\n\n    hasNextVideo() {\n        return (this.state.currentVideoIndex + 1) < this.state.videos.length;\n    }\n\n    hasPreviousVideo() {\n        return this.state.currentVideoIndex > 0;\n    }\n\n    nextVideo() {\n        if ((this.state.currentVideoIndex + 1) < this.state.videos.length) {\n            this.setState({ currentVideoIndex: this.state.currentVideoIndex + 1 })\n        }\n    }\n\n    previousVideo() {\n        if (this.state.currentVideoIndex > 0) {\n            this.setState({ currentVideoIndex: this.state.currentVideoIndex - 1 })\n        }\n    }\n\n    switchVideo(index) {\n        this.setState({ currentVideoIndex: index }, () => {\n            isBrowser() && window.scrollTo({top: 0, behavior: 'smooth'})\n        });\n    }\n\n    render () {\n        const opts = {\n            height: 'auto',\n            width: '100%',\n            playerVars: {\n                autoplay: 1\n            },\n        };\n\n        return (\n            <div className={`h-full`}>\n                {\n                    this.state.videos.length\n                        ?\n                        <div className=\"grid grid-cols-4 justify-between gap-3 md:gap-2\">\n                            <div className={'md:h-screen col-span-4 md:col-span-2 lg:col-span-3'}>\n                                <div className={`h-full w-full`}>\n                                    <YouTube className={`aspect-w-16 aspect-h-9`} videoId={this.state.videos[this.state.currentVideoIndex].id.videoId} opts={opts} onEnd={this.nextVideo.bind(this)} />\n\n                                    <div className=\"flex justify-between mt-4\">\n                                        <button className={this.hasPreviousVideo() ? 'text-black dark:text-gray-300' : 'text-gray-300 dark:text-gray-500'} onClick={this.previousVideo.bind(this)}>Previous</button>\n                                        <SavePlaylist videos={this.state.videos} tracks={this.state.tracks} isPlaylist={this.props.slug.length} />\n                                        <button className={this.hasNextVideo() ? 'text-black dark:text-gray-300' : 'text-gray-300 dark:text-gray-500'} onClick={this.nextVideo.bind(this)}>Next</button>\n                                    </div>\n                                </div>    \n                            </div>\n\n                            <Playlist onChange={this.switchVideo.bind(this)} currentVideoIndex={this.state.currentVideoIndex} playlist={this.state.videos} />\n                        </div>\n                        :\n                        null\n                }\n            </div>\n        )\n    }\n}\n\nexport default Player;","import React from 'react';\n\nclass Search extends React.Component {\n    handlePlaylistUpdate({target}) {\n        try {\n            let rgx = new RegExp(/\\/playlist.*\\?/);\n\n            this.props.onPlaylist((rgx.exec(target.value))[0].replace('/playlist/', '').replace('?', ''));\n        } catch (error) {}\n    }\n\n    render() {\n        return (\n            <div>\n                <p className=\"text-4xl dark:text-gray-300\">Spotify Playlist URL</p>\n\n                <input className=\"border-4 border-black w-full px-2 py-3 mt-8\" type={\"text\"} onChange={this.handlePlaylistUpdate.bind(this)} />\n            </div>\n        );\n    }\n}\n\nexport default Search;","import React from 'react';\nimport Player from \"./player\";\nimport Search from \"./search\";\n\nconst isBrowser = typeof window !== \"undefined\"\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            playlist: isBrowser ? (window.location.pathname.replace('/youtify/','').length > 0 ? window.location.pathname.replace('/youtify/','') : null) : null,\n            slug: isBrowser ? window.location.pathname.replace('/youtify/','') : null,\n            tracks: [],\n            videos: [],\n        }\n    }\n\n    render () {\n        return (\n            <div className={``}>\n                {\n                    this.state.playlist\n                        ?\n                            <Player playlist={this.state.playlist} tracks={this.state.tracks} videos={this.state.videos} token={this.props.token} slug={this.state.slug} />\n                        :\n                            <Search\n                                onPlaylist={(playlist) => {this.setState({playlist})}}\n                                playlist={this.state.playlist}\n                            />\n                }\n            </div>\n        );\n    }\n}\n\nexport default App;","import React from 'react'\nimport { SpotifyApiContext } from 'react-spotify-api'\nimport Cookies from 'js-cookie'\n\nimport { SpotifyAuth, Scopes } from 'react-spotify-auth'\nimport Layout from \"../components/Layout\";\nimport App from \"../components/Youtify/app\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faSync} from \"@fortawesome/pro-solid-svg-icons\";\nimport {Helmet} from \"react-helmet\";\n\nconst isBrowser = typeof window !== \"undefined\"\n\nclass Youtify extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            token: Cookies.get('spotifyAuthToken'),\n            playlist: isBrowser ? (window.location.pathname.replace('/youtify/','').length > 0 ? window.location.pathname.replace('/youtify/','') : null) : null,\n        }\n    }\n\n    gotToken(token) {\n        this.setState({ token })\n\n        if (isBrowser) {\n            window.location.hash = '';\n        }\n    }\n\n    render () {\n        return (\n            <>\n                {this.state.token || this.state.playlist ? (\n                    <SpotifyApiContext.Provider value={this.state.token}>\n                        <App token={this.state.token} />\n                    </SpotifyApiContext.Provider>\n                ) : (\n                    <div className=\"flex flex-col items-center justify-center mt-12\">\n                        <SpotifyAuth\n                            redirectUri='https://welford.me/youtify/'\n                            clientID='6d08c3a931c74f95813b4f181ef0ad50'\n                            scopes={[Scopes.userReadPrivate, 'user-read-email']}\n                            title={\"Connect to Spotify\"}\n                            logoClassName={\"w-8 mr-8 fill-current text-white\"}\n                            btnClassName={\"flex bg-black text-white items-center px-8 py-3 w-full md:w-2/4 lg:w-1/4 text-center justify-center dark:bg-gradient-to-tr dark:from-gray-800 dark:via-gray-700 dark:to-gray-900\"}\n                            onAccessToken={token => {this.gotToken(token)}}\n                        />\n\n                        <div className=\"mt-4 w-full md:w-2/4 lg:w-1/4 right-0 md:ml-0 p-4 md:mb-4 bg-opacity-90 bg-gray-700 shadow shadow-current shadow-md\" role=\"alert\">\n                            <div className=\"flex items-center\">\n                                <svg aria-hidden=\"true\" className=\"w-5 h-5 mr-2 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <path fill-rule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clip-rule=\"evenodd\"></path>\n                                </svg>\n                                <span className=\"sr-only\">Info</span>\n                                <h3 className=\"text-lg font-medium text-white\">YouTube Quota</h3>\n                            </div>\n                            <div className=\"mt-2 text-sm text-white\">\n                                The YouTube API is awful. Use a small playlist to avoid hitting the quota.\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                <Helmet\n                    htmlAttributes={{\n                        class: 'youtify',\n                    }}\n                />\n            </>\n        );\n    }\n}\n\nexport default Youtify;","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}"],"names":["module","exports","arr","len","length","i","arr2","Array","__esModule","arrayLikeToArray","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","from","test","Playlist","render","className","this","props","playlist","map","track","index","onClick","onChange","style","width","currentVideoIndex","Levels","size","speed","src","snippet","thumbnails","high","url","dangerouslySetInnerHTML","__html","duration_raw","title","React","isBrowser","window","SavePlaylist","state","isPlaylist","savePlaylist","axios","videos","tracks","then","r","history","pushState","data","slug","setState","bind","Player","processedIndex","youtubeKey","componentDidMount","determineSavedPlaylist","headers","Authorization","token","response","items","startProcessing","undefined","artists","hasNextVideo","hasPreviousVideo","nextVideo","previousVideo","switchVideo","scrollTo","top","behavior","YouTube","videoId","id","opts","height","playerVars","autoplay","onEnd","Search","handlePlaylistUpdate","target","rgx","RegExp","onPlaylist","exec","value","replace","error","type","App","location","pathname","Youtify","Cookies","gotToken","hash","redirectUri","clientID","scopes","Scopes","logoClassName","btnClassName","onAccessToken","role","fill","viewBox","xmlns","d","Helmet","htmlAttributes","class","_assertThisInitialized","self","ReferenceError","_classCallCheck","instance","Constructor","TypeError","_defineProperties","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","_possibleConstructorReturn","_typeof","obj","Symbol","iterator"],"sourceRoot":""}