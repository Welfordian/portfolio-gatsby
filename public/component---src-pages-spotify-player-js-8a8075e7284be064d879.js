/*! For license information please see component---src-pages-spotify-player-js-8a8075e7284be064d879.js.LICENSE.txt */
(self.webpackChunkgatsby_starter_default=self.webpackChunkgatsby_starter_default||[]).push([[561],{6965:function(e,t,n){var r,a,i,l,s;l=this,s=function(e){var t=!1,n=!1,r=!1,a=!1,i="escape years months weeks days hours minutes seconds milliseconds general".split(" "),l=[{type:"seconds",targets:[{type:"minutes",value:60},{type:"hours",value:3600},{type:"days",value:86400},{type:"weeks",value:604800},{type:"months",value:2678400},{type:"years",value:31536e3}]},{type:"minutes",targets:[{type:"hours",value:60},{type:"days",value:1440},{type:"weeks",value:10080},{type:"months",value:44640},{type:"years",value:525600}]},{type:"hours",targets:[{type:"days",value:24},{type:"weeks",value:168},{type:"months",value:744},{type:"years",value:8760}]},{type:"days",targets:[{type:"weeks",value:7},{type:"months",value:31},{type:"years",value:365}]},{type:"months",targets:[{type:"years",value:12}]}];function s(e,t){return!(t.length>e.length)&&-1!==e.indexOf(t)}function o(e){for(var t="";e;)t+="0",e-=1;return t}function u(e,t){var n=e+"+"+v(V(t).sort(),(function(e){return e+":"+t[e]})).join(",");return u.cache[n]||(u.cache[n]=Intl.NumberFormat(e,t)),u.cache[n]}function c(e,t,i){var l,s,p,m=t.useToLocaleString,f=t.useGrouping,d=f&&t.grouping.slice(),h=t.maximumSignificantDigits,y=t.minimumIntegerDigits||1,g=t.fractionDigits||0,v=t.groupingSeparator,w=t.decimalSeparator;if(m&&i){var S,k={minimumIntegerDigits:y,useGrouping:f};return g&&(k.maximumFractionDigits=g,k.minimumFractionDigits=g),h&&e>0&&(k.maximumSignificantDigits=h),r?(a||((S=E({},t)).useGrouping=!1,S.decimalSeparator=".",e=parseFloat(c(e,S),10)),u(i,k).format(e)):(n||((S=E({},t)).useGrouping=!1,S.decimalSeparator=".",e=parseFloat(c(e,S),10)),e.toLocaleString(i,k))}var x=(h?e.toPrecision(h+1):e.toFixed(g+1)).split("e");p=x[1]||"",s=(x=x[0].split("."))[1]||"";var b=(l=x[0]||"").length,_=s.length,V=b+_,D=l+s;(h&&V===h+1||!h&&_===g+1)&&((D=function(e){for(var t=e.split("").reverse(),n=0,r=!0;r&&n<t.length;)n?"9"===t[n]?t[n]="0":(t[n]=(parseInt(t[n],10)+1).toString(),r=!1):(parseInt(t[n],10)<5&&(r=!1),t[n]="0"),n+=1;return r&&t.push("1"),t.reverse().join("")}(D)).length===V+1&&(b+=1),_&&(D=D.slice(0,-1)),l=D.slice(0,b),s=D.slice(b)),h&&(s=s.replace(/0*$/,""));var T=parseInt(p,10);T>0?s.length<=T?(l+=s+=o(T-s.length),s=""):(l+=s.slice(0,T),s=s.slice(T)):T<0&&(s=o(Math.abs(T)-l.length)+l+s,l="0"),h||((s=s.slice(0,g)).length<g&&(s+=o(g-s.length)),l.length<y&&(l=o(y-l.length)+l));var N,M="";if(f)for(x=l;x.length;)d.length&&(N=d.shift()),M&&(M=v+M),M=x.slice(-N)+M,x=x.slice(0,-N);else M=l;return s&&(M=M+w+s),M}function p(e,t){return e.label.length>t.label.length?-1:e.label.length<t.label.length?1:0}function m(e,t){var n=[];return g(V(t),(function(r){if("_durationLabels"===r.slice(0,15)){var a=r.slice(15).toLowerCase();g(V(t[r]),(function(i){i.slice(0,1)===e&&n.push({type:a,key:i,label:t[r][i]})}))}})),n}u.cache={};var f={durationLabelsStandard:{S:"millisecond",SS:"milliseconds",s:"second",ss:"seconds",m:"minute",mm:"minutes",h:"hour",hh:"hours",d:"day",dd:"days",w:"week",ww:"weeks",M:"month",MM:"months",y:"year",yy:"years"},durationLabelsShort:{S:"msec",SS:"msecs",s:"sec",ss:"secs",m:"min",mm:"mins",h:"hr",hh:"hrs",d:"dy",dd:"dys",w:"wk",ww:"wks",M:"mo",MM:"mos",y:"yr",yy:"yrs"},durationTimeTemplates:{HMS:"h:mm:ss",HM:"h:mm",MS:"m:ss"},durationLabelTypes:[{type:"standard",string:"__"},{type:"short",string:"_"}],durationPluralKey:function(e,t,n){return 1===t&&null===n?e:e+e}};function d(e){return"[object Array]"===Object.prototype.toString.call(e)}function h(e){return"[object Object]"===Object.prototype.toString.call(e)}function y(e,t){var n,r=0,a=e&&e.length||0;for("function"!=typeof t&&(n=t,t=function(e){return e===n});r<a;){if(t(e[r]))return e[r];r+=1}}function g(e,t){var n=0,r=e.length;if(e&&r)for(;n<r;){if(!1===t(e[n],n))return;n+=1}}function v(e,t){var n=0,r=e.length,a=[];if(!e||!r)return a;for(;n<r;)a[n]=t(e[n],n),n+=1;return a}function w(e,t){return v(e,(function(e){return e[t]}))}function S(e){var t=[];return g(e,(function(e){e&&t.push(e)})),t}function k(e){var t=[];return g(e,(function(e){y(t,e)||t.push(e)})),t}function x(e,t){var n=[];return g(e,(function(e){g(t,(function(t){e===t&&n.push(e)}))})),k(n)}function b(e,t){var n=[];return g(e,(function(r,a){if(!t(r))return n=e.slice(a),!1})),n}function _(e,t){return b(e.slice().reverse(),t).reverse()}function E(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function V(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function D(e,t){var n=0,r=e.length;if(!e||!r)return!1;for(;n<r;){if(!0===t(e[n],n))return!0;n+=1}return!1}function T(e){var t=[];return g(e,(function(e){t=t.concat(e)})),t}function N(e){return"3.6"===e(3.55,"en",{useGrouping:!1,minimumIntegerDigits:1,minimumFractionDigits:1,maximumFractionDigits:1})}function M(e){var t=!0;return!!((t=(t=(t=t&&"1"===e(1,"en",{minimumIntegerDigits:1}))&&"01"===e(1,"en",{minimumIntegerDigits:2}))&&"001"===e(1,"en",{minimumIntegerDigits:3}))&&(t=(t=(t=(t=t&&"100"===e(99.99,"en",{maximumFractionDigits:0,minimumFractionDigits:0}))&&"100.0"===e(99.99,"en",{maximumFractionDigits:1,minimumFractionDigits:1}))&&"99.99"===e(99.99,"en",{maximumFractionDigits:2,minimumFractionDigits:2}))&&"99.990"===e(99.99,"en",{maximumFractionDigits:3,minimumFractionDigits:3}))&&(t=(t=(t=(t=(t=t&&"100"===e(99.99,"en",{maximumSignificantDigits:1}))&&"100"===e(99.99,"en",{maximumSignificantDigits:2}))&&"100"===e(99.99,"en",{maximumSignificantDigits:3}))&&"99.99"===e(99.99,"en",{maximumSignificantDigits:4}))&&"99.99"===e(99.99,"en",{maximumSignificantDigits:5}))&&(t=(t=t&&"1,000"===e(1e3,"en",{useGrouping:!0}))&&"1000"===e(1e3,"en",{useGrouping:!1})))}function C(){var e,t=[].slice.call(arguments),n={};if(g(t,(function(t,r){if(!r){if(!d(t))throw"Expected array as the first argument to durationsFormat.";e=t}"string"!=typeof t&&"function"!=typeof t?"number"!=typeof t?h(t)&&E(n,t):n.precision=t:n.template=t})),!e||!e.length)return[];n.returnMomentTypes=!0;var r=v(e,(function(e){return e.format(n)})),a=x(i,k(w(T(r),"type"))),l=n.largest;return l&&(a=a.slice(0,l)),n.returnMomentTypes=!1,n.outputTypes=a,v(e,(function(e){return e.format(n)}))}function L(){var n=[].slice.call(arguments),a=E({},this.format.defaults),o=this.asMilliseconds(),u=this.asMonths();"function"==typeof this.isValid&&!1===this.isValid()&&(o=0,u=0);var T=o<0,N=e.duration(Math.abs(o),"milliseconds"),M=e.duration(Math.abs(u),"months");g(n,(function(e){"string"!=typeof e&&"function"!=typeof e?"number"!=typeof e?h(e)&&E(a,e):a.precision=e:a.template=e}));var C={years:"y",months:"M",weeks:"w",days:"d",hours:"h",minutes:"m",seconds:"s",milliseconds:"S"},L={escape:/\[(.+?)\]/,years:/\*?[Yy]+/,months:/\*?M+/,weeks:/\*?[Ww]+/,days:/\*?[Dd]+/,hours:/\*?[Hh]+/,minutes:/\*?m+/,seconds:/\*?s+/,milliseconds:/\*?S+/,general:/.+?/};a.types=i;var j=function(e){return y(i,(function(t){return L[t].test(e)}))},I=new RegExp(v(i,(function(e){return L[e].source})).join("|"),"g");a.duration=this;var F="function"==typeof a.template?a.template.apply(a):a.template,G=a.outputTypes,P=a.returnMomentTypes,Z=a.largest,A=[];G||(d(a.stopTrim)&&(a.stopTrim=a.stopTrim.join("")),a.stopTrim&&g(a.stopTrim.match(I),(function(e){var t=j(e);"escape"!==t&&"general"!==t&&A.push(t)})));var O=e.localeData();O||(O={}),g(V(f),(function(e){"function"!=typeof f[e]?O["_"+e]||(O["_"+e]=f[e]):O[e]||(O[e]=f[e])})),g(V(O._durationTimeTemplates),(function(e){F=F.replace("_"+e+"_",O._durationTimeTemplates[e])}));var R=a.userLocale||e.locale(),z=a.useLeftUnits,Y=a.usePlural,B=a.precision,H=a.forceLength,W=a.useGrouping,q=a.trunc,K=a.useSignificantDigits&&B>0,U=K?a.precision:0,$=U,J=a.minValue,Q=!1,X=a.maxValue,ee=!1,te=a.useToLocaleString,ne=a.groupingSeparator,re=a.decimalSeparator,ae=a.grouping;te=te&&(t||r);var ie=a.trim;d(ie)&&(ie=ie.join(" ")),null===ie&&(Z||X||K)&&(ie="all"),null!==ie&&!0!==ie&&"left"!==ie&&"right"!==ie||(ie="large"),!1===ie&&(ie="");var le=function(e){return e.test(ie)},se=/large/,oe=/small/,ue=/both/,ce=/mid/,pe=/^all|[^sm]all/,me=/final/,fe=Z>0||D([se,ue,pe],le),de=D([oe,ue,pe],le),he=D([ce,pe],le),ye=D([me,pe],le),ge=v(F.match(I),(function(e,t){var n=j(e);return"*"===e.slice(0,1)&&(e=e.slice(1),"escape"!==n&&"general"!==n&&A.push(n)),{index:t,length:e.length,text:"",token:"escape"===n?e.replace(L.escape,"$1"):e,type:"escape"===n||"general"===n?null:n}})),ve={index:0,length:0,token:"",text:"",type:null},we=[];z&&ge.reverse(),g(ge,(function(e){if(e.type)return(ve.type||ve.text)&&we.push(ve),void(ve=e);z?ve.text=e.token+ve.text:ve.text+=e.token})),(ve.type||ve.text)&&we.push(ve),z&&we.reverse();var Se=x(i,k(S(w(we,"type"))));if(!Se.length)return w(we,"text").join("");Se=v(Se,(function(e,t){var n,r=t+1===Se.length,i=!t;n="years"===e||"months"===e?M.as(e):N.as(e);var l=Math.floor(n),s=n-l,o=y(we,(function(t){return e===t.type}));return i&&X&&n>X&&(ee=!0),r&&J&&Math.abs(a.duration.as(e))<J&&(Q=!0),i&&null===H&&o.length>1&&(H=!0),N.subtract(l,e),M.subtract(l,e),{rawValue:n,wholeValue:l,decimalValue:r?s:0,isSmallest:r,isLargest:i,type:e,tokenLength:o.length}}));var ke=q?Math.floor:Math.round,xe=function(e,t){var n=Math.pow(10,t);return ke(e*n)/n},be=!1,_e=!1,Ee=function(e,t){var n={useGrouping:W,groupingSeparator:ne,decimalSeparator:re,grouping:ae,useToLocaleString:te};return K&&(U<=0?(e.rawValue=0,e.wholeValue=0,e.decimalValue=0):(n.maximumSignificantDigits=U,e.significantDigits=U)),ee&&!_e&&(e.isLargest?(e.wholeValue=X,e.decimalValue=0):(e.wholeValue=0,e.decimalValue=0)),Q&&!_e&&(e.isSmallest?(e.wholeValue=J,e.decimalValue=0):(e.wholeValue=0,e.decimalValue=0)),e.isSmallest||e.significantDigits&&e.significantDigits-e.wholeValue.toString().length<=0?B<0?e.value=xe(e.wholeValue,B):0===B?e.value=ke(e.wholeValue+e.decimalValue):K?(e.value=q?xe(e.rawValue,U-e.wholeValue.toString().length):e.rawValue,e.wholeValue&&(U-=e.wholeValue.toString().length)):(n.fractionDigits=B,e.value=q?e.wholeValue+xe(e.decimalValue,B):e.wholeValue+e.decimalValue):K&&e.wholeValue?(e.value=Math.round(xe(e.wholeValue,e.significantDigits-e.wholeValue.toString().length)),U-=e.wholeValue.toString().length):e.value=e.wholeValue,e.tokenLength>1&&(H||be)&&(n.minimumIntegerDigits=e.tokenLength,_e&&n.maximumSignificantDigits<e.tokenLength&&delete n.maximumSignificantDigits),!be&&(e.value>0||""===ie||y(A,e.type)||y(G,e.type))&&(be=!0),e.formattedValue=c(e.value,n,R),n.useGrouping=!1,n.decimalSeparator=".",e.formattedValueEn=c(e.value,n,"en"),2===e.tokenLength&&"milliseconds"===e.type&&(e.formattedValueMS=c(e.value,{minimumIntegerDigits:3,useGrouping:!1},"en").slice(0,2)),e};if((Se=S(Se=v(Se,Ee))).length>1){var Ve=function(e){return y(Se,(function(t){return t.type===e}))},De=function(e){var t=Ve(e.type);t&&g(e.targets,(function(e){var n=Ve(e.type);n&&parseInt(t.formattedValueEn,10)===e.value&&(t.rawValue=0,t.wholeValue=0,t.decimalValue=0,n.rawValue+=1,n.wholeValue+=1,n.decimalValue=0,n.formattedValueEn=n.wholeValue.toString(),_e=!0)}))};g(l,De)}return _e&&(be=!1,U=$,Se=S(Se=v(Se,Ee))),!G||ee&&!a.trim?(fe&&(Se=b(Se,(function(e){return!e.isSmallest&&!e.wholeValue&&!y(A,e.type)}))),Z&&Se.length&&(Se=Se.slice(0,Z)),de&&Se.length>1&&(Se=_(Se,(function(e){return!e.wholeValue&&!y(A,e.type)&&!e.isLargest}))),he&&(Se=S(Se=v(Se,(function(e,t){return t>0&&t<Se.length-1&&!e.wholeValue?null:e})))),!ye||1!==Se.length||Se[0].wholeValue||!q&&Se[0].isSmallest&&Se[0].rawValue<J||(Se=[])):Se=S(Se=v(Se,(function(e){return y(G,(function(t){return e.type===t}))?e:null}))),P?Se:(g(we,(function(e){var t=C[e.type],n=y(Se,(function(t){return t.type===e.type}));if(t&&n){var r=n.formattedValueEn.split(".");r[0]=parseInt(r[0],10),r[1]?r[1]=parseFloat("0."+r[1],10):r[1]=null;var a=O.durationPluralKey(t,r[0],r[1]),i=m(t,O),l=!1,o={};g(O._durationLabelTypes,(function(t){var n=y(i,(function(e){return e.type===t.type&&e.key===a}));n&&(o[n.type]=n.label,s(e.text,t.string)&&(e.text=e.text.replace(t.string,n.label),l=!0))})),Y&&!l&&(i.sort(p),g(i,(function(t){return o[t.type]===t.label?!s(e.text,t.label)&&void 0:s(e.text,t.label)?(e.text=e.text.replace(t.label,o[t.type]),!1):void 0})))}})),(we=v(we,(function(e){if(!e.type)return e.text;var t=y(Se,(function(t){return t.type===e.type}));if(!t)return"";var n="";return z&&(n+=e.text),(T&&ee||!T&&Q)&&(n+="< ",ee=!1,Q=!1),(T&&Q||!T&&ee)&&(n+="> ",ee=!1,Q=!1),T&&(t.value>0||""===ie||y(A,t.type)||y(G,t.type))&&(n+="-",T=!1),"milliseconds"===e.type&&t.formattedValueMS?n+=t.formattedValueMS:n+=t.formattedValue,z||(n+=e.text),n}))).join("").replace(/(,| |:|\.)*$/,"").replace(/^(,| |:|\.)*/,""))}function j(){var e=this.duration,t=function(t){return e._data[t]},n=y(this.types,t),r=function(e,t){for(var n=e.length;n-=1;)if(t(e[n]))return e[n]}(this.types,t);switch(n){case"milliseconds":return"S __";case"seconds":case"minutes":return"*_MS_";case"hours":return"_HMS_";case"days":if(n===r)return"d __";case"weeks":return n===r?"w __":(null===this.trim&&(this.trim="both"),"w __, d __, h __");case"months":if(n===r)return"M __";case"years":return n===r?"y __":(null===this.trim&&(this.trim="both"),"y __, M __, d __");default:return null===this.trim&&(this.trim="both"),"y __, d __, h __, m __, s __"}}function I(e){if(!e)throw"Moment Duration Format init cannot find moment instance.";e.duration.format=C,e.duration.fn.format=L,e.duration.fn.format.defaults={trim:null,stopTrim:null,largest:null,maxValue:null,minValue:null,precision:0,trunc:!1,forceLength:null,userLocale:null,usePlural:!0,useLeftUnits:!1,useGrouping:!0,useSignificantDigits:!1,template:j,useToLocaleString:!0,groupingSeparator:",",decimalSeparator:".",grouping:[3]},e.updateLocale("en",f)}var F=function(e,t,n){return e.toLocaleString(t,n)};t=function(){try{(0).toLocaleString("i")}catch(e){return"RangeError"===e.name}return!1}()&&M(F),n=t&&N(F);var G=function(e,t,n){if("undefined"!=typeof window&&window&&window.Intl&&window.Intl.NumberFormat)return window.Intl.NumberFormat(t,n).format(e)};return r=M(G),a=r&&N(G),I(e),I},a=[n(9201)],void 0===(i="function"==typeof(r=s)?r.apply(t,a):r)||(e.exports=i),l&&(l.momentDurationFormatSetup=l.moment?s(l.moment):s)},4964:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});var r=n(4578),a=n(4217),i=n(120),l=n(3147),s=n.n(l),o=n(9157),u=n(5186),c=n(1070),p=n.n(c),m=n(4280),f=n(5514),d=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.Z)(t,e),t.prototype.render=function(){var e=this;return a.default.createElement("div",{onClick:function(){e.props.player.togglePlay()},className:"bg-white text-black inline p-3 inline-flex items-center justify-center rounded-full"},this.props.playerState.paused?a.default.createElement(m.G,{icon:f.zc}):a.default.createElement(m.G,{icon:f.XQY}))},t}(a.default.Component),h=d,y=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.Z)(t,e),t.prototype.render=function(){var e=this;return a.default.createElement("div",{onClick:function(){e.props.player.nextTrack()},className:(this.props.playerState.track_window.next_tracks.length?"text-white":"text-gray-300")+" inline p-4 inline-flex items-center justify-center rounded-full"},a.default.createElement(m.G,{icon:f.Ybx}))},t}(a.default.Component),g=y,v=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.Z)(t,e),t.prototype.render=function(){var e=this;return a.default.createElement("div",{onClick:function(){e.props.player.previousTrack()},className:(this.props.playerState.track_window.previous_tracks.length?"text-white":"text-gray-600")+" inline p-4 inline-flex items-center justify-center rounded-full"},a.default.createElement(m.G,{icon:f.uYr}))},t}(a.default.Component),w=v,S=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.Z)(t,e),t.prototype.render=function(){return a.default.createElement("div",null)},t}(a.default.Component),k=S,x=function(e){function t(){return e.apply(this,arguments)||this}(0,r.Z)(t,e);var n=t.prototype;return n.toggleShuffle=function(){p().put("https://api.spotify.com/v1/me/player/shuffle?state="+!this.props.playerState.shuffle,{},{headers:{Authorization:"Bearer "+this.props.token}})},n.render=function(){var e=this;return a.default.createElement("div",{onClick:function(){e.toggleShuffle()},className:(this.props.playerState.track_window.next_tracks.length?"text-white":"text-gray-300")+" inline p-4 inline-flex items-center justify-center rounded-full"},a.default.createElement(m.G,{className:this.props.playerState.shuffle?"text-green-400":"text-white",icon:f.V$d}))},t}(a.default.Component),b=x,_=n(4926),E=function(e){function t(t){var n;return(n=e.call(this,t)||this).repeatModes=["off","context","track"],n}(0,r.Z)(t,e);var n=t.prototype;return n.toggleRepeat=function(){var e=this.determineRepeatMode();p().put("https://api.spotify.com/v1/me/player/repeat?state="+e,{},{headers:{Authorization:"Bearer "+this.props.token}})},n.determineRepeatMode=function(){var e=0,t=this.props.playerState.repeat_mode;return t<2&&(e=t+1),this.repeatModes[e]},n.render=function(){var e=this;return a.default.createElement("div",{onClick:function(){e.toggleRepeat()},className:(this.props.playerState.track_window.next_tracks.length?"text-white":"text-gray-300")+" inline p-4 inline-flex items-center justify-center rounded-full"},a.default.createElement(m.G,{className:this.props.playerState.repeat_mode>0?"text-green-400":"text-white",icon:_.jHE}))},t}(a.default.Component),V=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.Z)(t,e),t.prototype.render=function(){return a.default.createElement("div",null,a.default.createElement(b,{token:this.props.token,player:this.props.player,playerState:this.props.playerState}),a.default.createElement(w,{player:this.props.player,playerState:this.props.playerState}),a.default.createElement(h,{player:this.props.player,playerState:this.props.playerState}),a.default.createElement(g,{player:this.props.player,playerState:this.props.playerState}),a.default.createElement(E,{token:this.props.token,player:this.props.player,playerState:this.props.playerState}),a.default.createElement(k,{player:this.props.player,playerState:this.props.playerState}))},t}(a.default.Component),D=V,T=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.Z)(t,e),t.prototype.render=function(){return a.default.createElement("img",{className:"w-96 self-center",src:this.props.playerState.track_window.current_track.album.images[0].url})},t}(a.default.Component),N=T,M=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.Z)(t,e),t.prototype.render=function(){return a.default.createElement("div",{className:"text-white max-w-full"},a.default.createElement("p",{className:"break-words"},this.props.playerState.track_window.current_track.name),a.default.createElement("p",null,this.props.playerState.track_window.current_track.artists[0].name))},t}(a.default.Component),C=M,L=function(e){function t(t){return e.call(this,t)||this}return(0,r.Z)(t,e),t.prototype.render=function(){return this.props.state&&this.props.state.track_window.previous_tracks.length?a.default.createElement("div",{className:""},a.default.createElement("img",{className:"w-8",src:this.props.state.track_window.previous_tracks[this.props.state.track_window.previous_tracks.length-1].album.images[0].url})):a.default.createElement("div",null)},t}(a.default.Component),j=function(e){function t(t){return e.call(this,t)||this}return(0,r.Z)(t,e),t.prototype.render=function(){var e,t;return this.props.state?a.default.createElement("div",{className:"text-center"},a.default.createElement("img",{className:"w-8",src:null===(e=this.props.state.track_window)||void 0===e||null===(t=e.next_tracks[0])||void 0===t?void 0:t.album.images[0].url})):a.default.createElement("div",null)},t}(a.default.Component),I=n(239),F=n(9117),G=n(9201),P=n.n(G),Z=(n(6965),function(e){function t(t){var n;return(n=e.call(this,t)||this).state={searchText:"",searchTimeout:setTimeout.prototype,results:[]},n}(0,r.Z)(t,e);var n=t.prototype;return n.render=function(){var e=this;return a.default.createElement("div",{className:"w-full border-b border-gray-600 relative"},a.default.createElement("input",{value:this.state.searchText,type:"text",className:"bg-black dark:bg-gray-800 text-white p-2 outline-none w-full pr-9 rounded-none",placeholder:"Search...",onChange:function(t){return e.setState({searchText:t.target.value})},onKeyUp:function(t){return e.performSearch(t)}}),a.default.createElement(m.G,{icon:f.wn1,className:"absolute right-0 text-white mt-3 mr-3"}),a.default.createElement("div",{className:"absolute bg-gray-900 w-full px-2 py-3 text-white "+(this.state.results.length?"":"hidden")},this.state.results.map((function(t,n){return a.default.createElement("div",{className:"ml-2 cursor-pointer "+(0===n?"":"mt-2"),key:t.id,onClick:function(){return e.playSong(t)}},a.default.createElement("div",{className:"flex"},a.default.createElement("img",{src:t.album.images[0].url,className:"w-16"}),a.default.createElement("div",{className:"ml-2 flex flex-col justify-between items-between"},a.default.createElement("p",null,t.name),a.default.createElement("p",null,t.artists[0].name),a.default.createElement("p",null,P().duration(t.duration_ms,"milliseconds").format()))))}))))},n.playSong=function(e){this.state.searchText="",p().put("https://api.spotify.com/v1/me/player/play?"+this.props.deviceId,{uris:[e.uri]},{headers:{Authorization:"Bearer "+this.props.token}}),this.setState({results:[]})},n.performSearch=function(e){var t=this;clearTimeout(this.state.searchTimeout),0!==e.target.value.trim().length?this.state.searchTimeout=setTimeout((function(){p().get("https://api.spotify.com/v1/search?q="+e.target.value+"&type=track&limit=5",{headers:{Authorization:"Bearer "+t.props.token}}).then((function(e){t.setState({results:e.data.tracks.items})}))}),550):this.setState({results:[]})},t}(a.default.Component)),A=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={player:!1,playerState:{},deviceId:null},setInterval((function(){n.state.player&&(n.state.playerState.paused||n.setState({playerState:Object.assign({},n.state.playerState,{position:n.state.playerState.position+300})}))}),300),n}(0,r.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;window.onSpotifyWebPlaybackSDKReady=function(){e.setState({player:new window.Spotify.Player({name:"Josh Welford's Web Player",getOAuthToken:function(t){t(e.props.token)}})},(function(){e.state.player.addListener("player_state_changed",(function(t){null!==t&&e.setState({playerState:t})})),e.state.player.addListener("ready",(function(t){var n=t.device_id;e.setState({deviceId:n}),p().put("https://api.spotify.com/v1/me/player",{device_ids:[n]},{headers:{Authorization:"Bearer "+e.props.token}})})),e.state.player.connect()}))}},n.updateSeekPosition=function(e){this.state.player.seek(e)},n.render=function(){return"track_window"in this.state.playerState?a.default.createElement("div",{className:"flex items-end flex-col w-full sm:w-full md:w-2/6"},a.default.createElement("div",{className:"px-6 py-2 bg-black dark:bg-gradient-to-tr dark:from-gray-800 dark:via-gray-700 dark:to-gray-900 text-white"},a.default.createElement("a",{href:"https://github.com/Welfordian/portfolio-gatsby/tree/main/src/components/SpotifyPlayer",target:"_blank",rel:"noopener"},a.default.createElement(m.G,{className:"mr-3",icon:_.gJF}),"Source")),a.default.createElement(Z,{deviceId:this.state.deviceId,player:this.state.player,playerState:this.state.playerState,token:this.props.token}),a.default.createElement("div",{className:"inline-flex flex-col justify-center bg-black dark:bg-gradient-to-tr dark:from-gray-800 dark:via-gray-700 dark:to-gray-900 p-8 w-full"},a.default.createElement(N,{player:this.state.player,playerState:this.state.playerState}),a.default.createElement("div",{className:"mt-4"},a.default.createElement(C,{player:this.state.player,playerState:this.state.playerState})),a.default.createElement(I.ZP,{progress:!0,min:0,max:this.state.playerState.duration,value:this.state.playerState.position,onChange:this.updateSeekPosition.bind(this),className:"mt-8",trackStyle:{backgroundColor:"#57B560"},railStyle:{backgroundColor:"gray"},handleStyle:{backgroundColor:"white",border:"none"}}),a.default.createElement("div",{className:"flex justify-between items-center mt-8"},a.default.createElement(L,{state:this.state.playerState}),a.default.createElement("div",{className:"flex justify-center"},a.default.createElement(D,{token:this.props.token,player:this.state.player,playerState:this.state.playerState})),a.default.createElement(j,{state:this.state.playerState})),a.default.createElement(u.q,null,a.default.createElement("script",{crossOrigin:!0,src:"https://sdk.scdn.co/spotify-player.js"})))):a.default.createElement("div",null,a.default.createElement(F.Levels,{size:40,speed:.5}),a.default.createElement(u.q,null,a.default.createElement("script",{crossOrigin:!0,src:"https://sdk.scdn.co/spotify-player.js"})))},t}(a.default.Component),O="undefined"!=typeof window,R=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={token:s().get("spotifyAuthToken")},n}(0,r.Z)(t,e);var n=t.prototype;return n.gotToken=function(e){this.setState({token:e}),O&&(window.location.hash="")},n.render=function(){var e=this;return a.default.createElement("div",{className:"mt-32"},this.state.token?a.default.createElement(i.GN.Provider,{value:this.state.token},a.default.createElement("div",{className:"flex justify-center"},a.default.createElement(A,{token:this.state.token}))):a.default.createElement("div",{className:"flex justify-center mt-12"},a.default.createElement(o.yb,{redirectUri:"https://welford.me/spotify-player/",clientID:"6d08c3a931c74f95813b4f181ef0ad50",scopes:[o.Y.userReadPrivate,o.Y.userReadEmail,o.Y.streaming],title:"Connect to Spotify",logoClassName:"w-8 mr-8 fill-current text-white",btnClassName:"flex bg-black text-white items-center px-8 py-3 dark:bg-gradient-to-tr dark:from-gray-800 dark:via-gray-700 dark:to-gray-900",onAccessToken:function(t){e.gotToken(t)}})),a.default.createElement(u.q,{htmlAttributes:{class:"links-page"}}))},t}(a.default.Component)}}]);
//# sourceMappingURL=component---src-pages-spotify-player-js-8a8075e7284be064d879.js.map