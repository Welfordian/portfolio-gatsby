{"version":3,"file":"component---src-pages-youtify-js-26baedcc67e1a59ad769.js","mappings":"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","sources":["webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://gatsby-starter-default/./src/components/Youtify/playlist.js","webpack://gatsby-starter-default/./src/components/Youtify/SavePlaylist.js","webpack://gatsby-starter-default/./src/components/Youtify/player.js","webpack://gatsby-starter-default/./src/components/Youtify/search.js","webpack://gatsby-starter-default/./src/components/Youtify/app.js","webpack://gatsby-starter-default/./src/pages/youtify.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/typeof.js"],"sourcesContent":["function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import React from 'react';\nimport { Levels } from \"react-activity\";\nimport \"react-activity/dist/Levels.css\";\nimport moment from \"moment\";\n\nclass Playlist extends React.Component {\n    render() {\n        return (\n            <div className={`mt-12`}>\n                <p className=\"text-4xl\">Playlist</p>\n\n                <div>\n                    <table className={`min-w-max w-full table-auto mt-12`}>\n                        <thead className={`bg-gray-200 text-gray-600 uppercase text-sm leading-normal`}>\n                            <tr>\n                                <th className={`py-6`}></th>\n                                <th className={`text-left`}>Title</th>\n                                <th className={`text-left`}>Album</th>\n                                <th className={`text-left`}>Date Added</th>\n                                <th className={`text-left`}>Duration</th>\n                            </tr>\n                        </thead>\n                        <tbody className={`text-gray-600 text-sm font-light`}>\n                        {\n                            this.props.playlist.map((track, index) => {\n                                return (\n                                    <tr className={`border-b border-gray-200 hover:bg-gray-100 cursor-pointer`} onClick={() => this.props.onChange(index)}>\n                                        <td className={`pl-3 py-3`}>\n                                            {\n                                                this.props.currentVideoIndex === index ? <Levels size={40} speed={0.5}/> : <img className={`w-10`} src={track.track.album.images[0].url} />\n                                            }\n                                        </td>\n                                        <td>\n                                            <div className={`flex flex-col`}>\n                                                <p dangerouslySetInnerHTML={{ __html: track.track.name }}></p>\n                                                <p dangerouslySetInnerHTML={{ __html: track.track.name }}></p>\n                                            </div>\n                                        </td>\n                                        <td>\n                                            <p dangerouslySetInnerHTML={{ __html: track.track.album.name }}></p>\n                                        </td>\n                                        <td>\n                                            <p dangerouslySetInnerHTML={{ __html: moment(track.added_at).fromNow() }}></p>\n                                        </td>\n                                        <td>\n                                            <p dangerouslySetInnerHTML={{ __html: new Date(track.track.duration_ms).toISOString().slice(11,19) }}></p>\n                                        </td>\n                                    </tr>\n                                )\n                            })\n                        }\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Playlist","import React from 'react';\nimport axios from 'axios';\n\nconst isBrowser = typeof window !== \"undefined\"\n\nclass SavePlaylist extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            isPlaylist: this.props.isPlaylist\n        }\n    }\n\n    savePlaylist() {\n        axios.post('https://api.welford.me/v1/playlists', {\n            videos: this.props.videos,\n            tracks: this.props.tracks\n        }).then(r => {\n            if (isBrowser) {\n                window.history.pushState({}, \"\", `https://welford.me/youtify/${r.data.slug}`)\n            }\n\n            this.setState({\n                isPlaylist: true\n            })\n        })\n    }\n\n    render() {\n        if (! this.state.isPlaylist) {\n            return (\n                <div>\n                    <button className={`text-black`} onClick={this.savePlaylist.bind(this)}>Save Playlist</button>\n                </div>\n            )\n        }\n\n        return null;\n    }\n}\n\nexport default SavePlaylist;","import React from 'react';\nimport axios from 'axios';\nimport YouTube from 'react-youtube';\nimport Playlist from \"./playlist\";\nimport SavePlaylist from \"./SavePlaylist\";\n\nclass Player extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            processedIndex: 0,\n            tracks: this.props.tracks,\n            videos: this.props.videos,\n            currentVideoIndex: 0,\n            youtubeKey: 'AIzaSyBMDzO5UCJyXyo1FD1a4ShFeTY0M0UFnbA'\n        }\n    }\n\n    componentDidMount() {\n        if (this.props.slug.length) {\n            this.determineSavedPlaylist()\n        } else {\n            axios.get(`https://api.spotify.com/v1/playlists/${this.props.playlist}`, {\n                headers: {\n                    Authorization: 'Bearer ' + this.props.token\n                }\n            }).then(response => {\n                this.setState({\n                    tracks: response.data.tracks.items\n                });\n\n                this.startProcessing();\n            });\n        }\n    }\n\n    determineSavedPlaylist() {\n        if (this.props.slug.length > 0) {\n            axios.get(`https://api.welford.me/v1/playlists/${this.props.slug}`).then(r => {\n                this.setState({\n                    tracks: r.data.tracks,\n                    videos: r.data.videos,\n                });\n            })\n        }\n    }\n\n    startProcessing() {\n        let track = this.state.tracks[this.state.processedIndex];\n\n        axios.get('https://www.googleapis.com/youtube/v3/search?maxResults=1&key=' + this.state.youtubeKey + '&maxResults=1&q=' + track.track.name + ' - ' + track.track.artists[0].name + '&type=video&part=snippet').then(response => {\n            this.setState({ videos: [...this.state.videos, response.data.items[0]] });\n\n            if (this.state.processedIndex <= this.state.tracks.length) {\n                this.setState({\n                    processedIndex: this.state.processedIndex + 1\n                });\n\n                this.startProcessing();\n            }\n        });\n    }\n\n    hasNextVideo() {\n        return (this.state.currentVideoIndex + 1) < this.state.videos.length;\n    }\n\n    hasPreviousVideo() {\n        return this.state.currentVideoIndex > 0;\n    }\n\n    nextVideo() {\n        if ((this.state.currentVideoIndex + 1) < this.state.videos.length) {\n            this.setState({ currentVideoIndex: this.state.currentVideoIndex + 1 })\n        }\n    }\n\n    previousVideo() {\n        if (this.state.currentVideoIndex > 0) {\n            this.setState({ currentVideoIndex: this.state.currentVideoIndex - 1 })\n        }\n    }\n\n    switchVideo(index) {\n        this.setState({ currentVideoIndex: index });\n    }\n\n    render () {\n        const opts = {\n            height: 'auto',\n            width: '100%',\n            playerVars: {\n                autoplay: 1\n            },\n        };\n\n        return (\n            <div>\n                {\n                    this.state.videos.length\n                        ?\n                        <div className=\"flex flex-col justify-between\">\n                            <div className={`w-full`}>\n                                <YouTube className={`w-full`} containerClassName={`aspect-w-16 aspect-h-9`} videoId={this.state.videos[this.state.currentVideoIndex].id.videoId} opts={opts} onEnd={this.nextVideo.bind(this)} />\n                                <div className=\"flex justify-between mt-4\">\n                                    <button className={this.hasPreviousVideo() ? 'text-black' : 'text-gray-300'} onClick={this.previousVideo.bind(this)}>Previous</button>\n                                    <SavePlaylist videos={this.state.videos} tracks={this.state.tracks} isPlaylist={this.props.slug.length} />\n                                    <button className={this.hasNextVideo() ? 'text-black' : 'text-gray-300'} onClick={this.nextVideo.bind(this)}>Next</button>\n                                </div>\n                            </div>\n\n                            <Playlist onChange={this.switchVideo.bind(this)} currentVideoIndex={this.state.currentVideoIndex} playlist={this.state.tracks} />\n                        </div>\n                        :\n                        null\n                }\n            </div>\n        )\n    }\n}\n\nexport default Player;","import React from 'react';\n\nclass Search extends React.Component {\n    handlePlaylistUpdate({target}) {\n        try {\n            let rgx = new RegExp(/\\/playlist.*\\?/);\n\n            this.props.onPlaylist((rgx.exec(target.value))[0].replace('/playlist/', '').replace('?', ''));\n        } catch (error) {}\n    }\n\n    render() {\n        return (\n            <div>\n                <p className=\"text-4xl\">Spotify Playlist URL</p>\n\n                <input className=\"border-4 border-black w-full px-2 py-3 mt-8\" type={\"text\"} onChange={this.handlePlaylistUpdate.bind(this)} />\n            </div>\n        );\n    }\n}\n\nexport default Search;","import React from 'react';\nimport Player from \"./player\";\nimport Search from \"./search\";\nimport axios from 'axios';\n\nconst isBrowser = typeof window !== \"undefined\"\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            playlist: isBrowser ? (window.location.pathname.replace('/youtify/','').length > 0 ? window.location.pathname.replace('/youtify/','') : null) : null,\n            slug: isBrowser ? window.location.pathname.replace('/youtify/','') : null,\n            tracks: [],\n            videos: [],\n        }\n    }\n\n    render () {\n        return (\n            <div className={`mt-12`}>\n                {\n                    this.state.playlist ?\n                        <Player playlist={this.state.playlist} tracks={this.state.tracks} videos={this.state.videos} token={this.props.token} slug={this.state.slug} /> :\n                        <Search\n                            onPlaylist={(playlist) => {this.setState({playlist})}}\n                            playlist={this.state.playlist} />\n                }\n            </div>\n        );\n    }\n}\n\nexport default App;","import React from 'react'\nimport { SpotifyApiContext } from 'react-spotify-api'\nimport Cookies from 'js-cookie'\n\nimport { SpotifyAuth, Scopes } from 'react-spotify-auth'\nimport Layout from \"../components/Layout\";\nimport App from \"../components/Youtify/app\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faSync} from \"@fortawesome/pro-solid-svg-icons\";\n\nconst isBrowser = typeof window !== \"undefined\"\n\nclass Youtify extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            token: Cookies.get('spotifyAuthToken'),\n            playlist: isBrowser ? (window.location.pathname.replace('/youtify/','').length > 0 ? window.location.pathname.replace('/youtify/','') : null) : null,\n        }\n    }\n\n    gotToken(token) {\n        this.setState({ token })\n\n        if (isBrowser) {\n            window.location.hash = '';\n        }\n    }\n\n    render () {\n        return (\n            <>\n                {this.state.token || this.state.playlist ? (\n                    <SpotifyApiContext.Provider value={this.state.token}>\n                        <App token={this.state.token} />\n                    </SpotifyApiContext.Provider>\n                ) : (\n                    <div className=\"flex flex-col items-center justify-center mt-12\">\n                        <SpotifyAuth\n                            redirectUri='https://welford.me/youtify/'\n                            clientID='6d08c3a931c74f95813b4f181ef0ad50'\n                            scopes={[Scopes.userReadPrivate, 'user-read-email']}\n                            title={\"Connect to Spotify\"}\n                            logoClassName={\"w-8 mr-8 fill-current text-white\"}\n                            btnClassName={\"flex bg-black text-white items-center px-8 py-3 w-full md:w-2/4 lg:w-1/4 text-center justify-center\"}\n                            onAccessToken={token => {this.gotToken(token)}}\n                        />\n\n                        <div className=\"mt-4 w-full md:w-2/4 lg:w-1/4 right-0 md:ml-0 p-4 md:mb-4 bg-opacity-90 bg-gray-700 shadow shadow-current shadow-md\" role=\"alert\">\n                            <div className=\"flex items-center\">\n                                <svg aria-hidden=\"true\" className=\"w-5 h-5 mr-2 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <path fill-rule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clip-rule=\"evenodd\"></path>\n                                </svg>\n                                <span className=\"sr-only\">Info</span>\n                                <h3 className=\"text-lg font-medium text-white\">YouTube Quota</h3>\n                            </div>\n                            <div className=\"mt-2 text-sm text-white\">\n                                The YouTube API is awful. Use a small playlist to avoid hitting the quota.\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </>\n        );\n    }\n}\n\nexport default Youtify;","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}"],"names":["module","exports","arr","len","length","i","arr2","Array","__esModule","arrayLikeToArray","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","from","test","Playlist","render","className","this","props","playlist","map","track","index","onClick","onChange","currentVideoIndex","Levels","size","speed","src","album","images","url","dangerouslySetInnerHTML","__html","moment","added_at","fromNow","Date","duration_ms","toISOString","React","isBrowser","window","SavePlaylist","state","isPlaylist","savePlaylist","axios","videos","tracks","then","r","history","pushState","data","slug","setState","bind","Player","processedIndex","youtubeKey","componentDidMount","determineSavedPlaylist","headers","Authorization","token","response","items","startProcessing","artists","hasNextVideo","hasPreviousVideo","nextVideo","previousVideo","switchVideo","YouTube","containerClassName","videoId","id","opts","height","width","playerVars","autoplay","onEnd","Search","handlePlaylistUpdate","target","rgx","RegExp","onPlaylist","exec","value","replace","error","type","App","location","pathname","Youtify","Cookies","gotToken","hash","redirectUri","clientID","scopes","Scopes","title","logoClassName","btnClassName","onAccessToken","role","fill","viewBox","xmlns","d","_assertThisInitialized","self","ReferenceError","_classCallCheck","instance","Constructor","TypeError","_defineProperties","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","_possibleConstructorReturn","_typeof","obj","Symbol","iterator"],"sourceRoot":""}