{"version":3,"file":"component---src-components-watch-together-app-js-188a49b2baaf1d9a2edd.js","mappings":"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","sources":["webpack://gatsby-starter-default/./src/components/Modal.js","webpack://gatsby-starter-default/./src/components/WatchTogether/EventBus.js","webpack://gatsby-starter-default/./src/components/WatchTogether/EventHandler.js","webpack://gatsby-starter-default/./src/components/WatchTogether/EventEmitter.js","webpack://gatsby-starter-default/./src/components/WatchTogether/Chat.js","webpack://gatsby-starter-default/./src/components/WatchTogether/Search.js","webpack://gatsby-starter-default/./src/components/WatchTogether/VideoControls.js","webpack://gatsby-starter-default/./src/components/WatchTogether/WatchArea.js","webpack://gatsby-starter-default/./src/components/WatchTogether/app.js"],"sourcesContent":["import * as React from \"react\";\n\nclass Modal extends React.Component {\n    constructor() {\n        super();\n    }\n    \n    render () {\n        return (\n            <div className={`relative z-10 ${this.props.open ? '' : 'hidden'}`} aria-labelledby=\"modal-title\" role=\"dialog\" aria-modal=\"true\">\n                <div className=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\"></div>\n\n                <div className=\"fixed z-10 inset-0 overflow-y-auto\">\n                    <div className=\"flex items-end sm:items-center justify-center min-h-full p-4 text-center sm:p-0\">\n                        <div className=\"relative bg-gray-800 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:max-w-lg sm:w-full\">\n                            <div className=\"px-4 pt-5 pb-5 sm:p-6 sm:pb-6\">\n                                <div className=\"sm:flex sm:items-start flex-grow\">\n                                    <div className=\"mt-3 text-center sm:mt-0 sm:text-left flex-grow\">\n                                        <h3 className=\"text-xl leading-6 font-medium text-gray-200 mb-8\" id=\"modal-title\">{ this.props.title }</h3>\n                                        \n                                        <div className=\"mt-2\">\n                                            { this.props.children }\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"bg-gray-800 px-4 py-3 sm:px-6 flex flex-row-reverse gap-3 mb-4\">\n                                { this.props.buttons.map(button => {\n                                    return button\n                                }) }\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Modal","class EventBus {\n    constructor() {\n        this.watchers = {};\n    }\n\n    emit(eventName, data) {\n        if (! eventName in this.watchers) return;\n        \n        this.watchers[eventName].forEach(fn => {\n            fn(data);\n        });\n    }   \n    \n    on(eventName, callback) {\n        if (! (eventName in this.watchers)) {\n            this.watchers[eventName] = [];\n        }\n        \n        this.watchers[eventName].push(callback);\n    }\n}\n\nexport default new EventBus","import EventBus from \"./EventBus\";\n\nexport default class EventHandler {\n    constructor(app, socket) {\n        this.app = app;\n        this.socket = socket;\n        \n        this.connect();\n        this.disconnect();\n        \n        this.socket.onAny((event, args) => {            \n            if (event in this) {\n                this[event](args);\n            }\n        });\n    }\n    \n    connect() {\n        this.socket.on('connect', () => {\n            this.app.setState({ connected: true });\n        });\n    }\n    \n    disconnect() {\n        this.socket.on('disconnect', () => {\n            this.app.setState({ connected: false });\n        });\n    }\n    \n    set_video_id({id}) {\n        EventBus.emit('set_video_id', {id});\n    }\n    \n    cmd_clear_chat() {\n        EventBus.emit('cmd_clear_chat');\n    }\n    \n    initial_response({time, owner, socketId, videoId, users}) {\n        let isOwner = owner === socketId;\n        EventBus.emit('initial_response', {isOwner, time, owner, socketId, videoId, users});\n    }\n    \n    system_message(chat) {\n        EventBus.emit('receive_chat', {isSystemMessage: true, ...chat});\n    }\n    \n    chat_message(chat) {\n        EventBus.emit('receive_chat', chat);\n    }\n    \n    disconnect_reason({reason}) {\n        alert(reason);\n    }\n    \n    set_video_time(time) {\n        EventBus.emit('set_video_time', time);\n    }\n    \n    presence_update_join({owner, socketId, videoId, users}) {\n        EventBus.emit('presence_update', { online: Object.keys(users).length });\n    }\n    \n    presence_update_leave({videoId, users}) {\n        EventBus.emit('presence_update', { online: Object.keys(users).length });\n    }\n}","import EventBus from './EventBus'\n\nexport default class EventEmitter {\n    constructor(app, socket) {\n        this.app = app;\n        this.socket = socket;\n    }\n    \n    disconnect() {\n        this.socket.disconnect();\n    }\n    \n    setVideo(id) {\n        this.socket.emit('set_video_id', {id});\n        EventBus.emit('set_video_id', {id});\n    }\n\n    sendChat(message) {\n        this.socket.emit('send_chat', {message});\n    }\n    \n    updateTime(time, emit = false) {\n        this.socket.emit('set_video_time', {time, emit});\n    }\n}","import React from 'react';\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faLock, faUnlock} from \"@fortawesome/pro-solid-svg-icons\";\nimport EventEmitter from \"./EventEmitter\";\nimport EventBus from \"./EventBus\";\n\nclass Chat extends React.Component {\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            socketId: null,\n            online: 0,\n            chat: [],\n            eventEmitter: new EventEmitter(this, this.props.socket)\n        }\n        \n        EventBus.on('initial_response', ({time, owner, socketId, videoId, users}) => {\n            this.setState({ isOwner: owner, socketId, startTime: time, videoId, online: Object.keys(users).length })\n        })\n        \n        EventBus.on('receive_chat', chat => {\n            this.pushChat({...chat, self: chat.sender === this.state.socketId});\n        })\n        \n        EventBus.on('presence_update', ({online}) => {\n            this.setState({ online })\n        })\n        \n        EventBus.on('cmd_clear_chat', () => {\n            this.setState({chat: []});\n        })\n    }\n\n    sendChat(e) {\n        let message = e.target.value;\n\n        this.clearMessage();\n\n        this.state.eventEmitter.sendChat(message);\n    }\n\n    clearMessage() {\n        this.setState({\n            chatMessage: ''\n        })\n    }\n\n    pushChat(chat) {\n        this.setState({\n            chat: [chat, ...this.state.chat]\n        })\n    }\n    \n    render () {\n        return (\n            <div className=\"bg-black grow text-white p-3 flex flex-col\">\n                <div className={`flex justify-between`}>\n                    <div className={`flex`}>\n                        {\n                            this.state.isOwner\n                                ?\n                                <div className={`flex`}>\n                                    <div onClick={() => this.toggleLock()}>\n                                        {\n                                            this.props.isLocked \n                                            ?\n                                                <FontAwesomeIcon title={`Unlock room`} icon={faLock} />\n                                            :\n                                                <FontAwesomeIcon title={`Lock room`} icon={faUnlock} />\n                                        }\n                                    </div>\n                                </div>\n                                :\n                                \"\"\n                        }\n                    </div>\n\n                    <p className=\"text-right\">{ this.state.online } Online Now</p>\n                </div>\n\n                <div className={`flex flex-col flex-col-reverse grow mt-3`}>\n                    <input\n                        autoComplete={`off`}\n                        value={this.state.chatMessage}\n                        placeholder={`Type to chat...`}\n                        type={`text`}\n                        className={`w-full text-black p-3`}\n                        onChange={e => this.setState({ chatMessage: e.target.value })}\n                        onKeyUp={e => (e.code === 'Enter' || e.key === 'Enter') ? this.sendChat(e) : null}\n                    />\n                    {\n                        this.state.chat.map(chat => {\n                            return (\n                                chat.isSystemMessage\n                                    ?\n                                    <div className={`my-3 flex justify-center`}>\n                                        <span className={`text-white text-sm border-t border-b py-2`}>{chat.message}</span>\n                                    </div>\n                                    :\n                                    <div className={`my-3 flex flex-col  ${chat.self ? 'items-end' : 'items-start'}`}>\n                                        <p>{chat.name}</p>\n                                        <p className={`p-3 ${chat.self ? 'bg-white text-black' : 'bg-gray-600 text-white'}`}>{chat.message}</p>\n                                    </div>\n                            )\n                        })\n                    }\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Chat","import React from 'react';\n\nclass Search extends React.Component {\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            searchTimeout: setTimeout.prototype\n        }\n    }\n    \n    playVideo(e) {\n        let key = e.code || e.key;\n        let videoRegex = /^.*(?:(?:youtu\\.be\\/|v\\/|vi\\/|u\\/\\w\\/|embed\\/|shorts\\/)|(?:(?:watch)?\\?v(?:i)?=|\\&v(?:i)?=))([^#\\&\\?]*).*/;\n        \n        if (key !== 'Enter') return;\n        \n        let videoId = videoRegex.exec(this.props.searchTerm);\n        \n        if (videoId === null) {\n            alert('Enter a valid YouTube video URL');\n            this.props.onChange(\"\");\n        } else {\n            this.props.onVideoId(videoId[1]);\n        }\n    }\n\n    // search() {\n    //     clearTimeout(this.state.searchTimeout);\n    //    \n    //     const search = () => {\n    //         console.log('Searching...');\n    //     };\n    //\n    //     this.state.searchTimeout = setTimeout(search, 1000);\n    // }\n    \n    render () {\n        return (\n            <input\n                value={this.props.searchTerm}\n                onChange={e => this.props.onChange(e.target.value)}\n                onKeyUp={e => this.playVideo(e)}\n                placeholder=\"Search YouTube...\"\n                type=\"text\"\n                className=\"text-black placeholder-gray-500 border-4 border-black w-full p-2 text-lg\"\n            />\n        )\n    }\n}\n\nexport default Search","import React from 'react';\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport { faPause, faPlay } from \"@fortawesome/pro-solid-svg-icons\";\nimport Slider from \"rc-slider\";\n\nclass VideoControls extends React.Component {\n    constructor() {\n        super();\n        \n        this.state = {\n            newPosition: 0,\n        }\n    }\n    \n    playVideo() {\n        this.props.onPlay();\n    }\n    \n    pauseVideo() {\n        this.props.onPause();\n    }\n    \n    afterChange() {\n        if (this.props.isOwner) {\n            this.setState({dragging: false});\n            this.props.updateSeekPosition(this.state.newPosition);\n        }\n    }\n    \n    render () {\n        return (\n            <div className={`flex w-full bg-[#00000085] text-white p-4 gap-4 ${this.props.isOwner ? '-mt-[3.6rem]' : '-mt-[2.8rem]'} z-10 items-center`}>\n                {\n                    this.props.isOwner\n                    ?\n                        <>\n                            {\n                                this.props.playing\n                                ?\n                                    <h1 onClick={() => { this.pauseVideo() }}>\n                                        <FontAwesomeIcon icon={faPause} />\n                                    </h1>\n                                :\n                                    <h1 onClick={() => { this.playVideo() }}>\n                                        <FontAwesomeIcon icon={faPlay} />\n                                    </h1>    \n                            }\n                        </>\n                    : \"\"    \n                }\n\n                <Slider\n                    progress\n                    min={0}\n                    max={this.props.duration}\n                    value={this.state.dragging ? this.state.newPosition : this.props.position}\n                    onBeforeChange={() => { if (this.props.isOwner){ this.setState({dragging: true}) }}}\n                    onChange={(position) => { if (this.props.isOwner) { this.setState({ newPosition: position }) } }}\n                    onAfterChange={this.afterChange.bind(this)}\n                    className={``}\n                    trackStyle={{backgroundColor: 'white'}}\n                    railStyle={{backgroundColor: 'gray'}}\n                    handleStyle={{backgroundColor: 'white', border: 'none'}}\n                />\n            </div>\n        )\n    }\n}\n\nexport default VideoControls","import React from 'react'\nimport Search from \"./Search\";\nimport YouTube from \"react-youtube\";\nimport VideoControls from \"./VideoControls\";\nimport EventEmitter from './EventEmitter';\nimport EventBus from \"./EventBus\";\n\nclass WatchArea extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            updateInterval: setInterval.prototype,\n            isOwner: false,\n            videoId: false,\n            player: false,\n            duration: false,\n            position: 0,\n            searchTerm: '',\n            eventEmitter: new EventEmitter(this, this.props.socket)\n        }\n\n        EventBus.on('set_video_id', ({id}) => {\n            this.setState({ searchTerm: \"\", videoId: id, playing: true });\n            this.updateDuration();\n        })\n        \n        EventBus.on('initial_response', ({isOwner, time, owner, socketId, videoId, users}) => {\n            this.setState({\n                position: time, videoId, isOwner: owner, socketId, users, playing: true\n            })\n\n            this.startUpdateInterval(isOwner);\n            this.updateSeekPosition(this.state.position);\n        })\n        \n        EventBus.on('set_video_time', time => this.state.player.seekTo(time))\n        \n        this.waitForPlayer();\n    }\n\n    startUpdateInterval(isOwner = false) {\n        this.setState({isOwner: true});\n        \n        if (isOwner) {\n            this.setState({ isOwner: true, updateInterval: setInterval(() => {\n                    if (this.state.player) {\n                        this.state.eventEmitter.updateTime(this.state.player.getCurrentTime());\n                    }\n                }, 10)});\n        }\n\n        this.waitForPlayer(() => {\n            setInterval(() => {\n                this.setState({\n                    positionForProgressBar: this.state.player.getCurrentTime()\n                })\n            }, 100);\n        });\n    }\n\n    updateSeekPosition(position) {\n        this.waitForPlayer(() => {\n            if (this.state.isOwner) {\n                this.state.player.seekTo(position);\n                this.state.eventEmitter.updateTime(position, true);\n            }\n        })\n    }\n\n    waitForPlayer(fn = false) {\n        if (fn === false) {\n            let playerInterval = setInterval(() => {\n                if (this.state.player) {\n                    if ('playVideo' in this.state.player) {\n                        clearInterval(playerInterval);\n\n                        this.state.player.playVideo();\n                        this.state.player.seekTo(this.state.startTime);\n\n                        setTimeout(() => {\n                            this.state.player.unMute();\n                        }, 800);\n                    }\n                }\n            }, 50);\n        } else {\n            let playerInterval = setInterval(() => {\n                if (this.state.player) {\n                    if ('playVideo' in this.state.player) {\n                        clearInterval(playerInterval);\n\n                        fn();\n                    }\n                }\n            }, 50);\n        }\n    }\n\n    updateDuration() {\n        this.waitForPlayer(() => {\n            this.setState({ duration: this.state.player.getDuration() });\n        });\n    }\n\n    onVideoReady(e) {\n        this.setState({ player: e.target });\n        this.updateDuration();\n    }\n\n    handlePlay() {\n        if (this.state.isOwner) {\n            this.setState({ playing: true });\n            this.state.player.playVideo();\n        }\n    }\n\n    handlePause() {\n        if (this.state.isOwner) {\n            this.setState({ playing: false });\n            this.state.player.pauseVideo();\n        }\n    }\n\n    render () {\n        const opts = {\n            height: '100%',\n            width: '100%',\n            playerVars: {\n                controls: 0,\n                mute: 1,\n                autoplay: 1\n            }\n        };\n        \n        return (\n            <div className=\"lg:col-span-2 grow-0 space-x-1\">\n                <Search \n                    searchTerm={this.state.searchTerm}\n                    onChange={searchTerm => this.setState({ searchTerm })}\n                    onVideoId={(id) => { this.state.eventEmitter.setVideo(id) }}\n                />\n\n                {\n                    this.state.videoId ?\n                        <div className=\"flex flex-col\">\n                            <div className=\"aspect-w-16 aspect-h-9 mt-4\">\n                                <YouTube \n                                    videoId={this.state.videoId}\n                                    opts={opts}\n                                    onReady={e => this.onVideoReady(e)}\n                                />\n                                \n                                <div className={`flex`}></div>\n                            </div>\n\n                            <VideoControls\n                                playing={this.state.playing}\n                                isOwner={this.state.isOwner}\n                                player={this.state.player}\n                                duration={this.state.duration}\n                                position={this.state.positionForProgressBar}\n                                updateSeekPosition={(position) => { this.updateSeekPosition(position) }}\n                                onPlay={() => this.handlePlay()}\n                                onPause={() => this.handlePause()}\n                            ></VideoControls>\n                        </div>\n                        : ''\n                }\n            </div>\n        )\n    }\n}\n\nexport default WatchArea","import * as React from \"react\"\nimport Layout from \"../Layout\";\nimport { io } from \"socket.io-client\";\nimport EventHandler from './EventHandler';\nimport EventEmitter from './EventEmitter';\nimport Modal from \"../Modal\";\nimport {Helmet} from \"react-helmet\";\nimport Chat from \"./Chat\";\nimport WatchArea from \"./WatchArea\";\n\nconst isBrowser = typeof window !== \"undefined\";\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            modalOpen: true,\n            name: \"\",\n            connected: false,\n            socketId: null,\n            socket: null,\n        }\n    }\n\n    joinRoom() {\n        if (this.state.name.trim().length > 3) {\n            this.setState({ modalOpen: false });\n        } else {\n            alert('Please enter a valid name...');\n            \n            return;\n        }\n        \n        const socket = io(`${process.env.SOCKET_URL ?? 'https://watch-together.welford.me'}`, {\n            query: {\n                roomid: isBrowser ? window.location.pathname.replace('/watch-together/','') : null,\n                name: this.state.name\n            }\n        });\n\n        new EventHandler(this, socket);\n\n        this.setState({ socket, eventEmitter: new EventEmitter(this, socket) });\n    }\n    \n    toggleLock() {\n        this.setState({\n            isLocked: ! this.state.isLocked\n        })\n    }\n\n    render() {        \n        return (\n            <Layout hideSocial hideTagline>\n                {\n                    ! this.state.modalOpen\n                    ?\n                        this.state.connected \n                            ?\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 md:gap-4 grow flex l\">\n                                <WatchArea\n                                    socket={this.state.socket}\n                                ></WatchArea>\n                                \n                                <Chat\n                                    socket={this.state.socket}\n                                    socketId={this.state.socketId}\n                                    online={this.state.online}\n                                />\n                            </div>\n                            :\n                            <h1 className=\"text-4xl text-center\">Disconnected.</h1>\n                    :\n                        <Modal title=\"Enter a name\" open={this.state.modalOpen} buttons={[<button className=\"bg-black text-white px-3 py-4 w-36\" onClick={() => this.joinRoom()}>Join</button>]}>\n                            <input autoComplete={`off`} type=\"text\" className=\"w-full px-2 py-3 text-lg\" placeholder=\"Jane Doe\" onChange={e => this.setState({name: e.target.value})} value={this.state.name} />\n                        </Modal>  \n                }\n\n                <Helmet\n                    htmlAttributes={{\n                        class: 'watch-together',\n                    }}\n                />\n            </Layout>\n        );\n    }\n}\n\nexport default App"],"names":["Modal","render","className","this","props","open","role","id","title","children","buttons","map","button","React","EventBus","watchers","emit","eventName","data","forEach","fn","on","callback","push","EventHandler","app","socket","connect","disconnect","onAny","event","args","setState","connected","set_video_id","cmd_clear_chat","initial_response","time","owner","socketId","videoId","users","isOwner","system_message","chat","isSystemMessage","chat_message","disconnect_reason","reason","alert","set_video_time","presence_update_join","online","Object","keys","length","presence_update_leave","EventEmitter","setVideo","sendChat","message","updateTime","Chat","state","eventEmitter","startTime","pushChat","self","sender","e","target","value","clearMessage","chatMessage","onClick","toggleLock","isLocked","icon","faLock","faUnlock","autoComplete","placeholder","type","onChange","onKeyUp","code","key","name","Search","searchTimeout","setTimeout","prototype","playVideo","exec","searchTerm","onVideoId","VideoControls","newPosition","onPlay","pauseVideo","onPause","afterChange","dragging","updateSeekPosition","playing","faPause","faPlay","progress","min","max","duration","position","onBeforeChange","onAfterChange","bind","trackStyle","backgroundColor","railStyle","handleStyle","border","WatchArea","updateInterval","setInterval","player","updateDuration","startUpdateInterval","seekTo","waitForPlayer","getCurrentTime","positionForProgressBar","playerInterval","clearInterval","unMute","getDuration","onVideoReady","handlePlay","handlePause","YouTube","opts","height","width","playerVars","controls","mute","autoplay","onReady","isBrowser","window","App","modalOpen","joinRoom","trim","io","process","SOCKET_URL","query","roomid","location","pathname","replace","Layout","hideSocial","hideTagline","Helmet","htmlAttributes","class"],"sourceRoot":""}