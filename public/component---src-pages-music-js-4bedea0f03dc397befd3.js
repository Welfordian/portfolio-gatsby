(self.webpackChunkgatsby_starter_default=self.webpackChunkgatsby_starter_default||[]).push([[610],{2321:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(4578),a=r(4217),o=(r(4280),"_35Xnh");var i=function(e){var t=(0,a.useState)(e.phrases[0]),r=t[0],n=t[1],i=(0,a.useState)(e.phrases[1]),u=i[0],l=i[1],s=(0,a.useState)(0),c=s[0],f=s[1],d=(0,a.useState)(80),p=d[0],m=d[1],v=(0,a.useState)(1e3),h=v[0],g=v[1],y=(0,a.useState)(1e3),b=y[0],E=y[1],x=(0,a.useState)([!1,!1,!1]),w=x[0],k=x[1],S=(0,a.useState)(),I=S[0],N=S[1],T=(0,a.useState)(0),M=T[0],P=T[1],_=(0,a.useState)(-1),R=_[0],A=_[1],D=(0,a.useState)("!<>-_\\/[]{}—=+*^?#________"),L=D[0],C=D[1];function O(){for(var e=L[Math.floor(Math.random()*L.length)];;){var t=Math.floor(Math.random()*r.length);if(!L.includes(r[t])){n(r.substring(0,t)+e+r.substring(t+1));break}}}function F(){for(;;){var e=Math.floor(Math.random()*r.length);if(L.includes(r[e])){n(r.substring(0,e)+u[e]+r.substring(e+1));break}}}function j(e,t){P(M+1),f(e),l(I[t]),k([!1,!1,!1])}return(0,a.useEffect)((function(){if(void 0!==e.speed&&m(e.speed),void 0!==e.pauseTime&&E(e.pauseTime),void 0!==e.chars&&C(e.chars),void 0!==e.repetitions&&A(e.repetitions),void 0===e.phrases)return a.default.createElement("div",null,"phrases missing/incomplete/incorrect format");N(e.phrases);var t=setInterval((function(){if(g(p),M===R)return function(){return clearInterval(t)};var e;r!==u?(w[0]||0===function(e){for(var t=0;t<e.length;t++)if(!L.includes(e[t]))return O(),1;return 0}(r)&&k([!0,!1,!1]),w[0]&&!w[1]&&(r.length>u.length&&(e=Math.floor(Math.random()*r.length),n(r.substring(0,e)+r.substring(e+1))),r.length<u.length&&function(){var e=L[Math.floor(Math.random()*L.length)],t=Math.floor(Math.random()*r.length);n(0!==t?r.substring(0,t)+e+r.substring(t):e+r.substring(0))}(),r.length===u.length&&k([!0,!0,!1])),w[1]&&!w[2]&&function(e){for(var t=0;t<e.length;t++)if(L.includes(e[t])){F();break}}(r)):(g(b),c===I.length-2&&j(I.length-1,0),c===I.length-1&&j(0,1),c<I.length-2&&j(c+1,c+2))}),h);return function(){return clearInterval(t)}})),a.default.createElement("div",{className:o},function(t){var n;if(n=void 0!==e.symbolColor?{color:e.symbolColor}:{color:"rgb(143, 143, 143)"},null!=r){for(var o=[],i=0;i<t.length;i++)L.includes(t[i])?o.push(a.default.createElement("span",{style:n},t[i])):o.push(a.default.createElement("span",null,t[i]));return o}}(r))},u=(a.default.Component,function(e){function t(){return e.apply(this,arguments)||this}return(0,n.Z)(t,e),t.prototype.render=function(){return a.default.createElement("div",{className:"flex flex-col justify-center mx-4 px-4"},this.props.hideTagline?"":a.default.createElement("div",{className:"flex flex-col items-center justify-center"},a.default.createElement("h1",{className:"pretty-font text-transparent text-9xl bg-clip-text bg-gradient-to-r from-gray-500 via-gray-600 to-gray-700"},"JW")))},t}(a.default.Component)),l=u},1548:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return De}});var n=r(4578),a=r(4217),o=(r(4068),r(1650)),i=r(1070),u=r.n(i),l=r(4280),s=r(4926),c=function(e){function t(){return e.apply(this,arguments)||this}return(0,n.Z)(t,e),t.prototype.render=function(){return a.default.createElement("div",{className:"flex flex-wrap justify-between gap-2"},new Array(this.props.count).fill(null).map((function(e){return a.default.createElement("div",{className:"relative w-full h-[250px] md:w-[287px]",target:"_blank",rel:"noopener"},a.default.createElement("div",{className:"bg-gray-400 flex flex-col justify-between text-white w-full h-[250px] md:w-[287px]"},a.default.createElement("div",{className:"font-bold text-xl px-4 py-3 text-center bg-black/[0.6]"},a.default.createElement("p",{className:"h-5 bg-gray-500 animate-pulse-fast"}," ")),a.default.createElement("div",{className:"flex flex-col px-4 py-3 bg-black/[0.6]"},a.default.createElement("p",{className:"font-semibold flex h-3"},a.default.createElement(l.G,{className:"mr-3",icon:s.YZr}),a.default.createElement("p",{className:"w-2/3 h-3 bg-gray-500 animate-pulse-fast"}," ")),a.default.createElement("p",{className:"mt-3 font-semibold flex h-3 mt-6 mb-1"},a.default.createElement(l.G,{className:"mr-4",icon:s.SZw}),a.default.createElement("p",{className:"w-1/2 h-3 bg-gray-500 animate-pulse-fast"}," ")))))})))},t}(a.default.Component),f=r(5744),d=r.n(f),p=r(882),m=r(6380),v=function(e){function t(t){var r;return(r=e.call(this,t)||this).state={search:"",artists:[],artistMatch:""},r}(0,n.Z)(t,e);var r=t.prototype;return r.componentDidMount=function(){this.state.artists.length||this.loadArtists()},r.loadArtists=function(){var e=this;u().get("https://api.welford.me/tracks/artists").then((function(t){e.props.artistsLoaded(t.data)}))},r.filterArtists=function(e){var t=this;this.setState({search:e},(function(){t.placeholder(),t.props.onChange(e)}))},r.placeholder=function(){var e=this;if(this.state.search.trim().length>0){var t=this.props.artists.filter((function(t){return t.toLowerCase().startsWith(e.state.search.toLowerCase())}));return t.length>0?this.setState({artistMatch:t[0]}):this.setState({artistMatch:""}),t.length>0?t[0]:""}return this.setState({artistMatch:""}),"Search..."},r.handleKeyDown=function(e){var t=this;(this.state.search.trim().length>0&&("Tab"===e.code||"Tab"===e.key)||"Enter"===e.code||"Enter"===e.key)&&(e.preventDefault(),this.setState({search:this.state.artistMatch},(function(){t.props.onChange(t.state.search)})))},r.render=function(){var e=this;return a.default.createElement("div",{className:"relative"},this.state.artistMatch.trim().length>0?a.default.createElement("div",{className:"-z-10 absolute top-0 left-0 w-full md:w-96 mt-4 md:mt-0 justify-center border dark:border-gray-600 border-gray-400 dark:text-gray-300 dark:bg-gray-700 bg-white px-4 py-2 text-sm font-medium text-gray-400 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-100"},this.state.artistMatch):a.default.createElement(a.default.Fragment,null),a.default.createElement("input",{value:this.props.search,onChange:function(t){e.filterArtists(t.target.value)},onKeyDown:function(t){e.handleKeyDown(t)},placeholder:"Search...",className:"w-full md:w-96 mt-4 md:mt-0 justify-center border dark:border-gray-600 border-gray-300 bg-transparent dark:text-gray-300 px-4 py-2 text-sm font-medium text-gray-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-100",type:"text"}))},t}(a.default.Component),h=(0,m.$j)((function(e){return{artists:e.artists}}),(function(e){return{artistsLoaded:function(t){return e({type:"ARTISTS_LOADED",artists:t})}}}))(v),g=r(1266),y=function(e){function t(t){var r;return(r=e.call(this,t)||this).state={page:1,tracks:[],search:"",loadingMore:!1,canLoadMore:!0,hasResults:!0,searchTimeout:setTimeout.prototype},r.container=a.default.createRef(),r}(0,n.Z)(t,e);var r=t.prototype;return r.componentDidMount=function(){this.props.tracks.length||this.loadTracks(!0)},r.loadTracks=function(e){var t=this;void 0===e&&(e=!1),this.setState({isLoadingMore:!0}),u().get("https://api.welford.me/spotify/recent?limit=19&page="+this.state.page+"&search="+this.state.search).then((function(r){t.props.onLoad(r.data.data,e),t.setState({page:t.state.page+1,hasResults:r.data.data.length>0,loadingSearch:!1,canLoadMore:null!==r.data.next_page_url}),t.setState({isLoadingMore:!1})}))},r.performSearch=function(e){var t=this;this.setState({search:e},(function(){clearTimeout(t.state.searchTimeout),t.setState({page:1,searchTimeout:setTimeout((function(){t.setState({loadingSearch:!0}),t.loadTracks(!0)}),850)})}))},r.render=function(){var e=this;return a.default.createElement("div",{className:"w-full "+this.props.className},a.default.createElement("div",{className:"flex flex-col md:flex-row justify-between"},a.default.createElement("p",{className:"text-4xl dark:text-gray-300"},"Recently Played"),a.default.createElement("div",{className:"relative"},a.default.createElement(h,{search:this.state.search,onChange:function(t){e.performSearch(t)}}),this.state.loadingSearch?a.default.createElement(l.G,{size:"lg",icon:g.LM3,className:"dark:text-gray-300 fa-spin absolute right-[.5em] top-[.5em]"}):a.default.createElement(a.default.Fragment,null))),a.default.createElement("div",{className:"flex flex-wrap justify-between mt-3 gap-2",ref:this.container},a.default.createElement(p.Z,null),this.props.tracks.length?this.props.tracks.map((function(e){return a.default.createElement(o.Z,{track:e})})):this.state.hasResults?a.default.createElement(c,{count:25}):a.default.createElement("div",null,a.default.createElement("p",null,"No results found."))),a.default.createElement("div",{className:"flex justify-center items-center mt-6"},this.state.canLoadMore?a.default.createElement("button",{onClick:function(){return e.loadTracks()},className:"bg-gradient-to-tr from-gray-800 via-gray-700 to-gray-900 text-white px-3 py-4 w-36 justify-center flex"},this.state.isLoadingMore?a.default.createElement(d(),{className:"w-6 text-white"}):a.default.createElement("span",null,"Load More")):a.default.createElement(a.default.Fragment,null)))},t}(a.default.Component),b=function(e){function t(){return e.apply(this,arguments)||this}return(0,n.Z)(t,e),t.prototype.render=function(){return a.default.createElement("iframe",{className:"w-full",title:this.props.title,src:"https://open.spotify.com/embed/playlist/"+this.props.playlist,height:"380",frameBorder:"0",allowFullScreen:"",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"})},t}(a.default.Component),E=b,x=(r(5072),r(2321)),w=r(5987),k=r(885),S=r(2982),I=r(4942),N=r(8419),T=r(6580),M=r(7619),P=r(3570),_=r(4035),R=r(7502),A=r(5269),D=function(e){return e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e}(D||{});var L,C=((L=C||{})[L.First=0]="First",L[L.Previous=1]="Previous",L[L.Next=2]="Next",L[L.Last=3]="Last",L[L.Specific=4]="Specific",L[L.Nothing=5]="Nothing",L);function O(e,t){var r=t.resolveItems();if(r.length<=0)return null;var n=t.resolveActiveIndex(),a=null!=n?n:-1,o=function(){switch(e.focus){case 0:return r.findIndex((function(e){return!t.resolveDisabled(e)}));case 1:var n=r.slice().reverse().findIndex((function(e,r,n){return!(-1!==a&&n.length-r-1>=a)&&!t.resolveDisabled(e)}));return-1===n?n:r.length-1-n;case 2:return r.findIndex((function(e,r){return!(r<=a)&&!t.resolveDisabled(e)}));case 3:var o=r.slice().reverse().findIndex((function(e){return!t.resolveDisabled(e)}));return-1===o?o:r.length-1-o;case 4:return r.findIndex((function(r){return t.resolveId(r)===e.id}));case 5:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}}();return-1===o?n:o}function F(e){for(var t=e.parentElement,r=null;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(r=t),t=t.parentElement;var n=""===(null==t?void 0:t.getAttribute("disabled"));return(!n||!function(e){if(!e)return!1;for(var t=e.previousElementSibling;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(r))&&n}function j(e){return"undefined"==typeof window?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}var Z,U,V,K=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((function(e){return"".concat(e,":not([tabindex='-1'])")})).join(","),z=((V=z||{})[V.First=1]="First",V[V.Previous=2]="Previous",V[V.Next=4]="Next",V[V.Last=8]="Last",V[V.WrapAround=16]="WrapAround",V[V.NoScroll=32]="NoScroll",V),B=((U=B||{})[U.Error=0]="Error",U[U.Overflow=1]="Overflow",U[U.Success=2]="Success",U[U.Underflow=3]="Underflow",U),Y=((Z=Y||{})[Z.Previous=-1]="Previous",Z[Z.Next=1]="Next",Z);var W=function(e){return e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e}(W||{});function G(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e!==(null==(r=j(e))?void 0:r.body)&&(0,N.E)(n,(t={},(0,I.Z)(t,0,(function(){return e.matches(K)})),(0,I.Z)(t,1,(function(){for(var t=e;null!==t;){if(t.matches(K))return!0;t=t.parentElement}return!1})),t))}["textarea","input"].join(",");function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return e.slice().sort((function(e,r){var n=t(e),a=t(r);if(null===n||null===a)return 0;var o=n.compareDocumentPosition(a);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}var Q=r(9036);function q(e,t,r){var n=(0,Q.E)(t);(0,a.useEffect)((function(){function t(e){n.current(e)}return window.addEventListener(e,t,r),function(){return window.removeEventListener(e,t,r)}}),[e,r])}function J(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){u=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw o}}}}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=(0,a.useRef)(!1);function o(r,a){if(n.current&&!r.defaultPrevented){var o=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e),i=a(r);if(null!==i&&i.ownerDocument.documentElement.contains(i)){var u,l=J(o);try{for(l.s();!(u=l.n()).done;){var s=u.value;if(null!==s){var c=s instanceof HTMLElement?s:s.current;if(null!=c&&c.contains(i))return}}}catch(f){l.e(f)}finally{l.f()}return!G(i,W.Loose)&&-1!==i.tabIndex&&r.preventDefault(),t(r,i)}}}(0,a.useEffect)((function(){requestAnimationFrame((function(){n.current=r}))}),[r]),q("click",(function(e){return o(e,(function(e){return e.target}))}),!0),q("blur",(function(e){return o(e,(function(){return window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null}))}),!0)}var ee=r(2614);function te(e){var t;if(e.type)return e.type;var r=null!=(t=e.as)?t:"button";return"string"==typeof r&&"button"===r.toLowerCase()?"button":void 0}function re(e,t){var r=(0,a.useState)((function(){return te(e)})),n=(0,k.Z)(r,2),o=n[0],i=n[1];return(0,_.e)((function(){i(te(e))}),[e.type,e.as]),(0,_.e)((function(){o||!t.current||t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&i("button")}),[o,t]),o}var ne,ae=r(6695),oe=["disabled"];function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var le,se=function(e){return e[e.Open=0]="Open",e[e.Closed=1]="Closed",e}(se||{}),ce=function(e){return e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e}(ce||{}),fe=((le=fe||{})[le.OpenMenu=0]="OpenMenu",le[le.CloseMenu=1]="CloseMenu",le[le.GoToItem=2]="GoToItem",le[le.Search=3]="Search",le[le.ClearSearch=4]="ClearSearch",le[le.RegisterItem=5]="RegisterItem",le[le.UnregisterItem=6]="UnregisterItem",le);function de(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},r=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,n=H(t(e.items.slice()),(function(e){return e.dataRef.current.domRef.current})),a=r?n.indexOf(r):null;return-1===a&&(a=null),{items:n,activeItemIndex:a}}var pe=(ne={},(0,I.Z)(ne,1,(function(e){return 1===e.menuState?e:ue(ue({},e),{},{activeItemIndex:null,menuState:1})})),(0,I.Z)(ne,0,(function(e){return 0===e.menuState?e:ue(ue({},e),{},{menuState:0})})),(0,I.Z)(ne,2,(function(e,t){var r,n=de(e),a=O(t,{resolveItems:function(){return n.items},resolveActiveIndex:function(){return n.activeItemIndex},resolveId:function(e){return e.id},resolveDisabled:function(e){return e.dataRef.current.disabled}});return ue(ue(ue({},e),n),{},{searchQuery:"",activeItemIndex:a,activationTrigger:null!=(r=t.trigger)?r:1})})),(0,I.Z)(ne,3,(function(e,t){var r=""!==e.searchQuery?0:1,n=e.searchQuery+t.value.toLowerCase(),a=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find((function(e){var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(n))&&!e.dataRef.current.disabled})),o=a?e.items.indexOf(a):-1;return-1===o||o===e.activeItemIndex?ue(ue({},e),{},{searchQuery:n}):ue(ue({},e),{},{searchQuery:n,activeItemIndex:o,activationTrigger:1})})),(0,I.Z)(ne,4,(function(e){return""===e.searchQuery?e:ue(ue({},e),{},{searchQuery:"",searchActiveItemIndex:null})})),(0,I.Z)(ne,5,(function(e,t){var r=de(e,(function(e){return[].concat((0,S.Z)(e),[{id:t.id,dataRef:t.dataRef}])}));return ue(ue({},e),r)})),(0,I.Z)(ne,6,(function(e,t){var r=de(e,(function(e){var r=e.findIndex((function(e){return e.id===t.id}));return-1!==r&&e.splice(r,1),e}));return ue(ue(ue({},e),r),{},{activationTrigger:1})})),ne),me=(0,a.createContext)(null);function ve(e){var t=(0,a.useContext)(me);if(null===t){var r=new Error("<".concat(e," /> is missing a parent <Menu /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(r,ve),r}return t}function he(e,t){return(0,N.E)(t.type,pe,e,t)}me.displayName="MenuContext";var ge=a.Fragment,ye=(0,T.yV)((function(e,t){var r,n=(0,a.useReducer)(he,{menuState:1,buttonRef:(0,a.createRef)(),itemsRef:(0,a.createRef)(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),o=(0,k.Z)(n,2),i=o[0],u=i.menuState,l=i.itemsRef,s=i.buttonRef,c=o[1],f=(0,R.T)(t);$([s,l],(function(e,t){var r;c({type:1}),G(t,W.Loose)||(e.preventDefault(),null==(r=s.current)||r.focus())}),0===u);var d=(0,a.useMemo)((function(){return{open:0===u}}),[u]),p=e,m={ref:f};return a.default.createElement(me.Provider,{value:n},a.default.createElement(ee.up,{value:(0,N.E)(u,(r={},(0,I.Z)(r,0,ee.ZM.Open),(0,I.Z)(r,1,ee.ZM.Closed),r))},(0,T.sY)({ourProps:m,theirProps:p,slot:d,defaultTag:ge,name:"Menu"})))})),be=(0,T.yV)((function(e,t){var r,n=ve("Menu.Button"),o=(0,k.Z)(n,2),i=o[0],u=o[1],l=(0,R.T)(i.buttonRef,t),s="headlessui-menu-button-".concat((0,A.M)()),c=(0,P.G)(),f=(0,ae.z)((function(e){switch(e.key){case D.Space:case D.Enter:case D.ArrowDown:e.preventDefault(),e.stopPropagation(),u({type:0}),c.nextFrame((function(){return u({type:2,focus:C.First})}));break;case D.ArrowUp:e.preventDefault(),e.stopPropagation(),u({type:0}),c.nextFrame((function(){return u({type:2,focus:C.Last})}))}})),d=(0,ae.z)((function(e){if(e.key===D.Space)e.preventDefault()})),p=(0,ae.z)((function(t){if(F(t.currentTarget))return t.preventDefault();e.disabled||(0===i.menuState?(u({type:1}),c.nextFrame((function(){var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(t.preventDefault(),u({type:0})))})),m=(0,a.useMemo)((function(){return{open:0===i.menuState}}),[i]),v=e,h={ref:l,id:s,type:re(e,i.buttonRef),"aria-haspopup":!0,"aria-controls":null==(r=i.itemsRef.current)?void 0:r.id,"aria-expanded":e.disabled?void 0:0===i.menuState,onKeyDown:f,onKeyUp:d,onClick:p};return(0,T.sY)({ourProps:h,theirProps:v,slot:m,defaultTag:"button",name:"Menu.Button"})})),Ee=T.AN.RenderStrategy|T.AN.Static,xe=(0,T.yV)((function(e,t){var r,n,o=ve("Menu.Items"),i=(0,k.Z)(o,2),u=i[0],l=i[1],s=(0,R.T)(u.itemsRef,t),c=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.useMemo)((function(){return j.apply(void 0,t)}),[].concat(t))}(u.itemsRef),f="headlessui-menu-items-".concat((0,A.M)()),d=(0,P.G)(),p=(0,ee.oJ)(),m=null!==p?p===ee.ZM.Open:0===u.menuState;(0,a.useEffect)((function(){var e=u.itemsRef.current;!e||0===u.menuState&&e!==(null==c?void 0:c.activeElement)&&e.focus({preventScroll:!0})}),[u.menuState,u.itemsRef,c]),function(e){var t=e.container,r=e.accept,n=e.walk,o=e.enabled,i=void 0===o||o,u=(0,a.useRef)(r),l=(0,a.useRef)(n);(0,a.useEffect)((function(){u.current=r,l.current=n}),[r,n]),(0,_.e)((function(){if(t&&i){var e=j(t);if(e)for(var r=u.current,n=l.current,a=Object.assign((function(e){return r(e)}),{acceptNode:r}),o=e.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,a,!1);o.nextNode();)n(o.currentNode)}}),[t,i,u,l])}({container:u.itemsRef.current,enabled:0===u.menuState,accept:function(e){return"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk:function(e){e.setAttribute("role","none")}});var v=(0,ae.z)((function(e){var t,r;switch(d.dispose(),e.key){case D.Space:if(""!==u.searchQuery)return e.preventDefault(),e.stopPropagation(),l({type:3,value:e.key});case D.Enter:if(e.preventDefault(),e.stopPropagation(),l({type:1}),null!==u.activeItemIndex)null==(r=null==(t=u.items[u.activeItemIndex].dataRef.current)?void 0:t.domRef.current)||r.click();(0,M.k)().nextFrame((function(){var e;return null==(e=u.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case D.ArrowDown:return e.preventDefault(),e.stopPropagation(),l({type:2,focus:C.Next});case D.ArrowUp:return e.preventDefault(),e.stopPropagation(),l({type:2,focus:C.Previous});case D.Home:case D.PageUp:return e.preventDefault(),e.stopPropagation(),l({type:2,focus:C.First});case D.End:case D.PageDown:return e.preventDefault(),e.stopPropagation(),l({type:2,focus:C.Last});case D.Escape:e.preventDefault(),e.stopPropagation(),l({type:1}),(0,M.k)().nextFrame((function(){var e;return null==(e=u.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case D.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(l({type:3,value:e.key}),d.setTimeout((function(){return l({type:4})}),350))}})),h=(0,ae.z)((function(e){if(e.key===D.Space)e.preventDefault()})),g=(0,a.useMemo)((function(){return{open:0===u.menuState}}),[u]),y=e,b={"aria-activedescendant":null===u.activeItemIndex||null==(r=u.items[u.activeItemIndex])?void 0:r.id,"aria-labelledby":null==(n=u.buttonRef.current)?void 0:n.id,id:f,onKeyDown:v,onKeyUp:h,role:"menu",tabIndex:0,ref:s};return(0,T.sY)({ourProps:b,theirProps:y,slot:g,defaultTag:"div",features:Ee,visible:m,name:"Menu.Items"})})),we=a.Fragment,ke=(0,T.yV)((function(e,t){var r=e.disabled,n=void 0!==r&&r,o=(0,w.Z)(e,oe),i=ve("Menu.Item"),u=(0,k.Z)(i,2),l=u[0],s=u[1],c="headlessui-menu-item-".concat((0,A.M)()),f=null!==l.activeItemIndex&&l.items[l.activeItemIndex].id===c,d=(0,a.useRef)(null),p=(0,R.T)(t,d);(0,_.e)((function(){if(0===l.menuState&&f&&0!==l.activationTrigger){var e=(0,M.k)();return e.requestAnimationFrame((function(){var e,t;null==(t=null==(e=d.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}}),[d,f,l.menuState,l.activationTrigger,l.activeItemIndex]);var m=(0,a.useRef)({disabled:n,domRef:d});(0,_.e)((function(){m.current.disabled=n}),[m,n]),(0,_.e)((function(){var e,t;m.current.textValue=null==(t=null==(e=d.current)?void 0:e.textContent)?void 0:t.toLowerCase()}),[m,d]),(0,_.e)((function(){return s({type:5,id:c,dataRef:m}),function(){return s({type:6,id:c})}}),[m,c]);var v=(0,ae.z)((function(e){if(n)return e.preventDefault();s({type:1}),(0,M.k)().nextFrame((function(){var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))})),h=(0,ae.z)((function(){if(n)return s({type:2,focus:C.Nothing});s({type:2,focus:C.Specific,id:c})})),g=(0,ae.z)((function(){n||f||s({type:2,focus:C.Specific,id:c,trigger:0})})),y=(0,ae.z)((function(){n||!f||s({type:2,focus:C.Nothing})})),b=(0,a.useMemo)((function(){return{active:f,disabled:n}}),[f,n]);return(0,T.sY)({ourProps:{id:c,ref:p,role:"menuitem",tabIndex:!0===n?void 0:-1,"aria-disabled":!0===n||void 0,disabled:void 0,onClick:v,onFocus:h,onPointerMove:g,onMouseMove:g,onPointerLeave:y,onMouseLeave:y},theirProps:o,slot:b,defaultTag:we,name:"Menu.Item"})})),Se=Object.assign(ye,{Button:be,Items:xe,Item:ke}),Ie=r(5627),Ne=["title","titleId"];var Te=a.forwardRef((function(e,t){var r=e.title,n=e.titleId,o=(0,w.Z)(e,Ne);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":n},o),r?a.createElement("title",{id:n},r):null,a.createElement("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"}))}));function Me(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}var Pe=function(e){function t(t){var r;return(r=e.call(this,t)||this).state={selected:"initial"in r.props?r.props.initial:r.props.options[0]},r}(0,n.Z)(t,e);var r=t.prototype;return r.setActive=function(e){this.setState({selected:e}),this.props.onSelect(e)},r.render=function(){var e=this;return a.default.createElement(Se,{as:"div",className:"relative inline-block text-left"},a.default.createElement("div",null,a.default.createElement(Se.Button,{className:"inline-flex w-full justify-center border dark:border-gray-600 border-gray-300 dark:text-gray-300 dark:bg-gray-700 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-100"},this.state.selected.replace("_"," ").replace(/(\b\w)/g,(function(e){return e.toUpperCase()})),a.default.createElement(Te,{className:"-mr-1 ml-2 h-5 w-5","aria-hidden":"true"}))),a.default.createElement(Ie.u,{as:a.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95"},a.default.createElement(Se.Items,{className:"z-10 absolute right-0 mt-2 w-56 origin-top-right dark:text-gray-300 dark:bg-gray-700 bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},a.default.createElement("div",{className:"py-1"},this.props.options.map((function(t){return a.default.createElement(Se.Item,null,(function(r){var n=r.active;return a.default.createElement("span",{onClick:function(){e.setActive(t)},href:"#",className:Me(n?"dark:bg-gray-600 bg-gray-100 dark:text-gray-300 text-gray-900":"dark:text-gray-300 text-gray-700","block px-4 py-2 text-sm cursor-pointer")},t.replace("_"," ").replace(/(\b\w)/g,(function(e){return e.toUpperCase()})))}))}))))))},t}(a.default.Component),_e=function(e){function t(t){var r;return(r=e.call(this,t)||this).state={is_loading:!1,time_periods:["this_week","this_month","this_year","all_time"]},r}(0,n.Z)(t,e);var r=t.prototype;return r.componentDidMount=function(){this.props.top_tracks.length||this.loadTracks(!0)},r.loadTracks=function(){var e=this;this.setState({is_loading:!0},(function(){u().get("https://api.welford.me/tracks/analytics").then((function(t){e.props.topTracksLoaded(t.data.most_played[e.props.top_tracks_time_period]),e.setState({is_loading:!1})}))}))},r.setTimePeriod=function(e){var t=this;this.setState({time_period:e},(function(){t.props.setTimePeriod(e),t.loadTracks()}))},r.render=function(){var e=this;return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"flex justify-between"},a.default.createElement("p",{className:"text-4xl dark:text-gray-300"},"Most Played"),a.default.createElement(Pe,{options:this.state.time_periods,initial:this.props.top_tracks_time_period,onSelect:function(t){return e.setTimePeriod(t)}})),a.default.createElement("div",{className:"flex flex-wrap justify-between mt-3 gap-2"},this.props.top_tracks.length&&!this.state.is_loading?this.props.top_tracks.map((function(e){return a.default.createElement(o.Z,{track:e})})):a.default.createElement(c,{count:5})))},t}(a.default.Component),Re=(0,m.$j)((function(e){return{top_tracks:e.top_tracks,top_tracks_time_period:e.top_tracks_time_period}}),(function(e){return{topTracksLoaded:function(t){return e({type:"TOP_TRACKS_LOADED",top_tracks:t})},setTimePeriod:function(t){return e({type:"SET_TOP_TRACKS_TIME_PERIOD",time_period:t})}}}))(_e),Ae=function(e){function t(){return e.apply(this,arguments)||this}return(0,n.Z)(t,e),t.prototype.render=function(){return a.default.createElement("div",null,a.default.createElement(x.Z,null),a.default.createElement("div",{className:"mt-24 gap-12"},a.default.createElement(Re,null),a.default.createElement(y,{className:"mt-12",tracks:this.props.tracks,onLoad:this.props.lastFmTracksLoaded}),a.default.createElement("div",{className:"w-full mt-12"},a.default.createElement("p",{className:"text-4xl dark:text-gray-300"},"Playlists"),a.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-2 mt-3"},a.default.createElement(E,{playlist:"6e8oMgHsl4V4jcw9lhQ9mj",title:"A Chill Vibe Playlist"}),a.default.createElement(E,{playlist:"7ji8f9PubYla3q652Yz6n4",title:"A Poppy Vibe Playlist"}),a.default.createElement(E,{playlist:"6YXFiifYX1ItKtimFesUNJ",title:"A Bouncy Vibe Playlist"}),a.default.createElement(E,{playlist:"5NF6WIrvfy8cWpdfaoh2au",title:"A Lucid Vibe Playlist"}),a.default.createElement(E,{playlist:"5YyO8lDKAh2siTh2EDcwYl",title:"A Byers Vibe Playlist"}),a.default.createElement(E,{playlist:"2n96PioY2RL0GriBf8VcTK",title:"A Dirt Road Vibe Playlist"}),a.default.createElement(E,{playlist:"7qU5YlXlr1hQdLK8hFeWxs",title:"A Special Vibe Playlist"}),a.default.createElement(E,{playlist:"17cub1CAiJOeM4CZxevqDc",title:"A Rocky Vibe Playlist"})))))},t}(a.default.Component),De=(0,m.$j)((function(e){return{tracks:e.tracks}}),(function(e){return{lastFmTracksLoaded:function(t,r){return e({type:"LASTFM_TRACKS_LOADED",tracks:t,clearState:r})}}}))(Ae)},4068:function(){},5744:function(e,t,r){var n=r(4217);function a(e){return n.createElement("svg",e,[n.createElement("defs",{key:0},n.createElement("linearGradient",{x1:"8.042%",y1:"0%",x2:"65.682%",y2:"23.865%",id:"a"},[n.createElement("stop",{stopColor:"currentcolor",stopOpacity:"0",offset:"0%",key:0}),n.createElement("stop",{stopColor:"currentcolor",stopOpacity:".631",offset:"63.146%",key:1}),n.createElement("stop",{stopColor:"currentcolor",offset:"100%",key:2})])),n.createElement("g",{fill:"none",fillRule:"evenodd",key:1},n.createElement("g",{transform:"translate(1 1)"},[n.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18",id:"Oval-2",stroke:"url(#a)",strokeWidth:"2",key:0},n.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"})),n.createElement("circle",{fill:"currentcolor",cx:"36",cy:"18",r:"1",key:1},n.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"}))]))])}a.defaultProps={viewBox:"0 0 38 38"},e.exports=a,a.default=a}}]);
//# sourceMappingURL=component---src-pages-music-js-4bedea0f03dc397befd3.js.map